<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.14.0" />
		<meta name="keywords" content="Etcnet Firewall,,Etcnet,Etcnet QoS" />
		<link rel="stylesheet" type="text/css" href="/extensions/SearchSuggest/SearchSuggest.css" />
		<link rel="alternate" type="application/x-wiki" title="Править" href="http://www.altlinux.org/index.php?title=Etcnet_Firewall&amp;action=edit" />
		<link rel="edit" title="Править" href="http://www.altlinux.org/index.php?title=Etcnet_Firewall&amp;action=edit" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ALT Linux Wiki (ru)" />
		<link rel="copyright" href="/ALT_Linux_Wiki:Copyright" />
		<link rel="alternate" type="application/rss+xml" title="ALT Linux Wiki — RSS-лента" href="http://www.altlinux.org/index.php?title=%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="ALT Linux Wiki — Atom-лента" href="http://www.altlinux.org/index.php?title=%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:RecentChanges&amp;feed=atom" />
		<title>Etcnet Firewall — ALT Linux Wiki</title>
		<link rel="stylesheet" href="/skins/common/shared.css?195" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins/common/commonPrint.css?195" type="text/css" media="print" />
		<link rel="stylesheet" href="/skins/monobook/main.css?195" type="text/css" media="screen" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE50Fixes.css?195" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE55Fixes.css?195" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="/skins/monobook/IE60Fixes.css?195" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="/skins/monobook/IE70Fixes.css?195" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" />
		<link rel="stylesheet" href="/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" media="print" />
		<link rel="stylesheet" href="/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" />
		<link rel="stylesheet" href="/index.php?title=-&amp;action=raw&amp;maxage=18000&amp;gen=css" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?195"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/skins";
		var wgArticlePath = "/$1";
		var wgScriptPath = "";
		var wgScript = "/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://www.altlinux.org";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Etcnet_Firewall";
		var wgTitle = "Etcnet Firewall";
		var wgAction = "view";
		var wgArticleId = "420";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "ru";
		var wgContentLanguage = "ru";
		var wgBreakFrames = false;
		var wgCurRevisionId = "7183";
		var wgVersion = "1.14.0";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = [",	.", " 	,"];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="/skins/common/wikibits.js?195"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/extensions/SearchSuggest/SearchSuggest.js"></script>
		<script type="text/javascript">hookEvent("load", ss_ajax_onload);</script>
		<script type="text/javascript" src="/skins/common/ajax.js?195"></script>
		<script type="text/javascript" src="/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Etcnet_Firewall skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">Etcnet Firewall</h1>
		<div id="bodyContent">
			<h3 id="siteSub">Материал из ALT Linux Wiki</h3>
			<div id="contentSub">(Перенаправлено с <a href="/index.php?title=Etcnet/firewall&amp;redirect=no" title="Etcnet/firewall">Etcnet/firewall</a>)</div>
									<div id="jump-to-nav">Перейти к: <a href="#column-one">навигация</a>, <a href="#searchInput">поиск</a></div>			<!-- start content -->
			<p><br />
</p>
<table id="toc" class="toc" summary="Содержание"><tr><td><div id="toctitle"><h2>Содержание</h2></div>
<ul>
<li class="toclevel-1"><a href="#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D0.BE.D0.B3.D0.BE_.D1.8D.D0.BA.D1.80.D0.B0.D0.BD.D0.B0_.D0.B2_.2Fetc.2Fnet"><span class="tocnumber">1</span> <span class="toctext">Настройка сетевого экрана в /etc/net</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.A1.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.BD.D1.8B.D0.B5_.D1.82.D0.B0.D0.B1.D0.BB.D0.B8.D1.86.D1.8B_.D0.B8_.D0.B2.D0.BE.D0.B7.D0.BC.D0.BE.D0.B6.D0.BD.D1.8B.D0.B5_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.BD.D1.8B.D0.B5_.D1.86.D0.B5.D0.BF.D0.BE.D1.87.D0.BA.D0.B8_.D0.B2_.D0.BD.D0.B8.D1.85"><span class="tocnumber">1.1</span> <span class="toctext">Системные таблицы и возможные системные цепочки в них</span></a></li>
<li class="toclevel-2"><a href="#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D0.B5.D0.BC.D1.8B.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D1.8B_.D0.B8_.D0.BA.D0.B0.D1.82.D0.B0.D0.BB.D0.BE.D0.B3.D0.B8"><span class="tocnumber">1.2</span> <span class="toctext">Используемые файлы и каталоги</span></a></li>
<li class="toclevel-2"><a href="#.D0.90.D0.BB.D0.B3.D0.BE.D1.80.D0.B8.D1.82.D0.BC_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D1.8B_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D0.BE.D0.B3.D0.BE_.D1.8D.D0.BA.D1.80.D0.B0.D0.BD.D0.B0"><span class="tocnumber">1.3</span> <span class="toctext">Алгоритм работы сетевого экрана</span></a></li>
<li class="toclevel-2"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.87.D0.B0.D0.BD.D0.B8.D1.8F"><span class="tocnumber">1.4</span> <span class="toctext">Примечания</span></a></li>
<li class="toclevel-2"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B"><span class="tocnumber">1.5</span> <span class="toctext">Примеры</span></a></li>
<li class="toclevel-2"><a href="#.D0.A3.D1.82.D0.B8.D0.BB.D0.B8.D1.82.D1.8B"><span class="tocnumber">1.6</span> <span class="toctext">Утилиты</span></a></li>
<li class="toclevel-2"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4"><span class="tocnumber">1.7</span> <span class="toctext">Примеры команд</span></a></li>
<li class="toclevel-2"><a href="#.D0.9F.D1.80.D0.BE.D1.87.D0.B5.D0.B5"><span class="tocnumber">1.8</span> <span class="toctext">Прочее</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.A1.D1.81.D1.8B.D0.BB.D0.BA.D0.B8"><span class="tocnumber">2</span> <span class="toctext">Ссылки</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "показать"; var tocHideText = "убрать"; showTocToggle(); } </script>
<a name=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D0.BE.D0.B3.D0.BE_.D1.8D.D0.BA.D1.80.D0.B0.D0.BD.D0.B0_.D0.B2_.2Fetc.2Fnet" id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D0.BE.D0.B3.D0.BE_.D1.8D.D0.BA.D1.80.D0.B0.D0.BD.D0.B0_.D0.B2_.2Fetc.2Fnet"></a><h2><span class="editsection">[<a href="/index.php?title=Etcnet_Firewall&amp;action=edit&amp;section=1" title="Править секцию: Настройка сетевого экрана в /etc/net">править</a>]</span> <span class="mw-headline"> Настройка сетевого экрана в <a href="/Etcnet" title="Etcnet">/etc/net</a> </span></h2>
<p>Начиная с версии <span style="font-family: monospace; color: #440044; background-color: / #FFFFFF">0.7.9</span> <span style="font-family: monospace; color: #440044; background-color: / #FFFFFF">etcnet</span> содержит поддержку управления сетевым экраном (<span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">firewall</span>). В данный момент поддерживается <span style="font-family: monospace; color: #440000; background-color: / #FFFFFF">iptables</span> и <span style="font-family: monospace; color: #440000; background-color: / #FFFFFF">ebtables</span>. Реализация основана на группировке таблиц и цепочек в таблицах. Таблицы могут быть только системные, цепочки же, кроме системных, могут быть заданы пользователем. 
</p>
<a name=".D0.A1.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.BD.D1.8B.D0.B5_.D1.82.D0.B0.D0.B1.D0.BB.D0.B8.D1.86.D1.8B_.D0.B8_.D0.B2.D0.BE.D0.B7.D0.BC.D0.BE.D0.B6.D0.BD.D1.8B.D0.B5_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.BD.D1.8B.D0.B5_.D1.86.D0.B5.D0.BF.D0.BE.D1.87.D0.BA.D0.B8_.D0.B2_.D0.BD.D0.B8.D1.85" id=".D0.A1.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.BD.D1.8B.D0.B5_.D1.82.D0.B0.D0.B1.D0.BB.D0.B8.D1.86.D1.8B_.D0.B8_.D0.B2.D0.BE.D0.B7.D0.BC.D0.BE.D0.B6.D0.BD.D1.8B.D0.B5_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.BD.D1.8B.D0.B5_.D1.86.D0.B5.D0.BF.D0.BE.D1.87.D0.BA.D0.B8_.D0.B2_.D0.BD.D0.B8.D1.85"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet_Firewall&amp;action=edit&amp;section=2" title="Править секцию: Системные таблицы и возможные системные цепочки в них">править</a>]</span> <span class="mw-headline"> Системные таблицы и возможные системные цепочки в них </span></h3>
<table class="standard">

<tr>
<th>Таблица
</th><th>Цепочки
</th></tr>
<tr>
<td><span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">filter</span>
</td><td><span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">INPUT FORWARD OUTPUT</span>
</td></tr>
<tr>
<td><span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">nat</span>
</td><td><span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">PREROUTING OUTPUT POSTROUTING</span>
</td></tr>
<tr>
<td><span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">mangle</span>
</td><td><span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">PREROUTING INPUT FORWARD OUTPUT POSTROUTING</span>
</td></tr>
<tr>
<td><span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">raw</span>
</td><td><span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">PREROUTING OUTPUT</span>
</td></tr></table>
<p>Схема прохождения пакетов<sup id="cite_ref-0" class="reference"><a href="#cite_note-0" title="">[1]</a></sup>
</p><p><a href="/%D0%A4%D0%B0%D0%B9%D0%BB:Tables_traverse.jpg" class="image" title="Изображение:Tables_traverse.jpg"><img alt="Изображение:Tables_traverse.jpg" src="/images/7/7d/Tables_traverse.jpg" width="324" height="550" border="0" /></a>
</p>
<a name=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D0.B5.D0.BC.D1.8B.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D1.8B_.D0.B8_.D0.BA.D0.B0.D1.82.D0.B0.D0.BB.D0.BE.D0.B3.D0.B8" id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D0.B5.D0.BC.D1.8B.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D1.8B_.D0.B8_.D0.BA.D0.B0.D1.82.D0.B0.D0.BB.D0.BE.D0.B3.D0.B8"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet_Firewall&amp;action=edit&amp;section=3" title="Править секцию: Используемые файлы и каталоги">править</a>]</span> <span class="mw-headline"> Используемые файлы и каталоги </span></h3>
<p><span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/default/fw/options</span> — файл с настройками сетевого экрана по-умолчанию:
</p>
<ul><li> <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">FW_TYPE</span> — тип сетевого экрана.
<dl><dd> Здесь можно указать только <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">iptables</span>, другие типы пока не поддерживаются. Обратите внимание на этот параметр, по умолчанию он не указан в файле настроек.
</dd></dl>
</li><li> <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">IPTABLES_HUMAN_SYNTAX</span> — включает или отключает использование поддержки «читабельного» синтаксиса правил для iptables (см. ниже).
<dl><dd> Значение: <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">yes</span> или <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">no</span>
</dd></dl>
</li><li> <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">IPTABLES_SYSTEM_CHAINS</span> — список системных цепочек в таблицах. Все цепочки, не указанные здесь, будут автоматически создаваться и удаляться.
<dl><dd> Значение: названия цепочек (все названия чувствительны к регистру!), разделенные пробелом
</dd></dl>
</li><li> <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">IPTABLES_INPUT_POLICY</span> — действие по-умолчанию для пакетов, попадающих в системную цепочку INPUT таблицы filter.
<dl><dd> Значение: одно из <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">ACCEPT</span>, <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">DROP</span>, <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">QUEUE</span> или <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">RETURN</span>
</dd></dl>
</li><li> <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">IPTABLES_FORWARD_POLICY</span> — действие по-умолчанию для пакетов, попадающих в системную цепочку FORWARD таблицы filter.
<dl><dd> Значение: одно из <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">ACCEPT</span>, <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">DROP</span>, <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">QUEUE</span> или <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">RETURN</span>
</dd></dl>
</li><li> <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">IPTABLES_OUTPUT_POLICY</span> — действие по-умолчанию для пакетов, попадающих в системную цепочку OUTPUT таблицы filter.
<dl><dd> Значение: одно из <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">ACCEPT</span>, <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">DROP</span>, <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">QUEUE</span> или <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">RETURN</span>
</dd></dl>
</li><li> <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">IPTABLES_RULE_EMBEDDING</span> — способ добавления нового правила в цепочку.
<dl><dd> Значение: <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">APPEND</span> или <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">INSERT</span>, что означает добавление в конец списка правил или в начало соответственно.
</dd></dl>
</li></ul>
<p><span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/default/fw/iptables/filter</span>, <span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/default/fw/iptables/nat</span>, <span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/default/fw/iptables/mangle</span> — каталоги, соответствующие таблицам iptables. В каталогах создаются файлы, соответствующие необходимым системным или пользовательским цепочкам, в которых уже и прописываются сами правила iptables.
</p><p><span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/default/fw/iptables/loadorder</span>, <span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/default/fw/tablename/loadorder</span> — если такой существует и он не пустой, то обработка таблиц и/или цепочек в таблице происходит в том порядке, который указан в файле (по одному значению на строку). Все таблицы и цепочки, которые не указаны, обрабатываться не будут.
<span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/default/fw/iptables/modules</span> — список модулей ядра, которые необходимо загрузить перед запуском сетевого экрана. При остановке эти модули выгружаются
<span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/default/fw/iptables/syntax</span> — описание замен при использовании «читабельного» синтаксиса правил iptables
</p>
<a name=".D0.90.D0.BB.D0.B3.D0.BE.D1.80.D0.B8.D1.82.D0.BC_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D1.8B_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D0.BE.D0.B3.D0.BE_.D1.8D.D0.BA.D1.80.D0.B0.D0.BD.D0.B0" id=".D0.90.D0.BB.D0.B3.D0.BE.D1.80.D0.B8.D1.82.D0.BC_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D1.8B_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D0.BE.D0.B3.D0.BE_.D1.8D.D0.BA.D1.80.D0.B0.D0.BD.D0.B0"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet_Firewall&amp;action=edit&amp;section=4" title="Править секцию: Алгоритм работы сетевого экрана">править</a>]</span> <span class="mw-headline"> Алгоритм работы сетевого экрана </span></h3>
<ol><li> При запуске службы <span style="font-family: monospace; color: #440000; background-color: / #FFFFFF">network</span>, виртуальный интерфейс <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">default</span>:
<ol><li> Если опция <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">CONFIG_FW</span> (в файле <span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/default/options</span>) не установлена в <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">yes</span>, то ничего не делает и происходит выход из процедуры запуска сетевого экрана; иначе переходим к следующему пункту
</li><li> Считывается файл настроек <span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/default/fw/iptables/options</span>
</li><li> До настройки любого интерфейса и обработки значений <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">sysctl</span> устанавливаются действия по-умолчанию (<span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">policy</span>) для системных цепочек таблицы <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">filter</span>
</li><li> Считывается файл со списком модулей ядра <span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/default/fw/iptables/modules</span> и все указанные там модули (по одному на строку) загружаются; при отсутствии файла никакие модули не загружаются
</li><li> Создаются все пользовательские цепочки во всех таблицах (пользовательскими считаются все цепочки, не указанные в переменной <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">IPTABLES_SYSTEM_CHAINS</span>)
</li><li> Считывается файл <span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/default/fw/iptables/loadorder</span> и в указанном в нем порядке происходит обработка таблиц <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">iptables</span>; при отсутствии файла обработка происходит в соответствии с сортировкой названий таблиц по имени
</li><li> Считывается файл <span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/default/fw/iptables/tablename/loadorder</span> в каждой обрабатываемой таблице и происходит обработки и загрузка правил для каждой цепочки в порядке, указанном в файле; при отсутствии файла обработка опять же происходит в соответствии с сортировкой по имени
</li><li> Если опция <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">IPTABLES_HUMAN_SYNTAX</span> установлена в <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">yes</span>, то считывается и обрабатывается файл с «синтаксисом» <span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/default/fw/iptables/syntax</span>
</li><li> Файл с правилами обрабатывает построчно (одно правило на строку); если указана опция <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">IPTABLES_HUMAN_SYNTAX</span>, то правило обрабатывается интерпретатором в соответствии с синтаксисом и превращается в реальные опции для команды <span style="font-family: monospace; color: #440000; background-color: / #FFFFFF">iptables</span>, после чего запускается <span style="font-family: monospace; color: #440000; background-color: / #FFFFFF">iptables</span> с этими параметрами; иначе правило без обработки передается <span style="font-family: monospace; color: #440000; background-color: / #FFFFFF">iptables</span>
</li></ol>
</li><li> При «поднятии» любого интерфейса, кроме <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">default</span>:
<ol><li> Выполняются все подпункты пунка 1, только все файлы и каталоги ищутся в каталоге текущего интерфейса
</li></ol>
</li><li> При «опускании» любого интерфейса, кроме <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">default</span>:
<ol><li> Все подпункты пункта 1 выполняются в обратном порядке, все правила удаляются из цепочек в обратном порядке, все модули ядра выгружаются в обратном порядке; все файлы и каталоги ищутся в каталоге текущего интерфейса
</li></ol>
</li><li> При остановке службы <span style="font-family: monospace; color: #440000; background-color: / #FFFFFF">network</span>, виртуальный интерфейс <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">default</span>:
<ol><li> Все подпункты пункта 1 выполняются в обратном порядке, все правила из всех цепочек удаляются командой <span style="font-family: monospace; color: #003300; background-color: #EEEEEE">iptables -F</span>, все модули выгружаются в обратном порядке, все пользовательские цепочки удаляются
</li><li> Действия по-умолчанию (<span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">policy</span>) для системных цепочек устанавливается в <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">ACCEPT</span>
</li></ol>
</li></ol>
<a name=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.87.D0.B0.D0.BD.D0.B8.D1.8F" id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.87.D0.B0.D0.BD.D0.B8.D1.8F"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet_Firewall&amp;action=edit&amp;section=5" title="Править секцию: Примечания">править</a>]</span> <span class="mw-headline"> Примечания </span></h3>
<ul><li> Правила для <span style="font-family: monospace; color: #440000; background-color: / #FFFFFF">iptables</span> можно писать с помощью синтаксиса, подобного синтаксису <span style="font-family: monospace; color: #440000; background-color: / #FFFFFF">ipfw</span> и других. Сделано это с помощью простой замены слов на опции <span style="font-family: monospace; color: #440000; background-color: / #FFFFFF">iptables</span>. Сами замены описаны в файле <span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/default/fw/iptables/syntax</span> (там также описано некоторое количество вспомогательных слов, так что правила можно писать практически на литературном английском&nbsp;:). Синтаксис правила можно совмещать (то есть использовать и заданный в <span style="font-family: monospace; color: #440044; background-color: / #FFFFFF">etcnet</span> синтаксис и реальные опции команды <span style="font-family: monospace; color: #440000; background-color: / #FFFFFF">iptables</span>)
</li><li> Во всех правилах <i>нельзя</i> использовать названия цепочки и/или таблицы; они будут добавляться автоматически
</li><li> В правилах можно использовать любые переменные окружения, выполнять любые команды <span style="font-family: monospace; color: #440000; background-color: / #FFFFFF">shell</span> (они должны быть указаны в одну строку). Переменная <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">$NAME</span> содержит имя текущего интерфейса. Переменные <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">$IPV4ADDRESS</span> и <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">$IPV6ADDRESS</span> содержат массив <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">IPV4/IPV6</span> адресов текущего интерфейса (это обычные bash arrays, можно обращаться к ним по индексу: <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">${IPV4ADDRESS[2]} </span>или просто <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">$IPV4ADDRESS</span> для первого значения). Для удобства можно использовать файлы <span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">options</span>, в которых прописывать какие-либо переменные, к примеру, адреса gateway, ISP, сетей и т. д.
</li><li> Во всех файлах можно использовать комментарии (строка должна начинаться с символа <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">#</span>)
</li><li> Вам не нужно копировать все файлы настроек в каталог каждого интерфейса. Сначала будут считаны настройки виртуального интерфейса <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">default</span>, а уже потом у текущего интерфейса, соответственно, можно переопределять какие-то параметры для определенного интерфейса
</li><li> Описания всех правил в настройках виртуального интерфейса <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">default</span> достаточно для поднятия простого сетевого экрана. При наличии же большого количества правил и интерфейсов есть смысл разделить логически все правила по каждому интерфейсу (опять же, не будет нагружаться процессор вхолостую, если интерфейс, к которому относится много правил, сейчас не «поднят»)
</li><li> В начале каждого правила можно указать, что с этим правилом делать. Может быть одно из трёх значений:
<ul><li> <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">-A</span> — добавление в конец списка правил (при включенном «читабельном» синтаксисе соответствует команде <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">append</span>)
</li><li> <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">-I [num]</span> — добавление в начало списка правил; если указан необязательный параметр <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">num</span>, то правило будет вставлено в строку правил с таким номером (будьте внимательны, <span style="font-family: monospace; color: #440000; background-color: / #FFFFFF">iptables</span> считает несуществующий номер строки ошибкой и не добавляет правило); (при включенном «читабельном» синтаксисе соответствует команде <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">insert [num]</span>)
</li><li> <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">-D</span> — удаление правила из списка правил (соответственно, при «остановке» интерфейса правило наоборот будет добавлено); (при включенном «читабельном» синтаксисе соответствует команде <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">delete</span>)
</li></ul>
</li><li> Если никакое действие не указано, то правило добавляются в цепочку в соответствии со значением переменной <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">IPTABLES_RULE_EMBEDDING</span>
</li><li> Если вы изменяете какое-то правило в конфигурационных файлах при уже загруженных правилах <span style="font-family: monospace; color: #440000; background-color: / #FFFFFF">iptables</span>, то для того, чтобы в памяти не остались старые правила, необходимо или выгрузить все правила для текущего интерфейса (если вы настраиваете для конкретного интерфейса, а не <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">default</span>) перед изменением файлов или после изменения использовать команду <span style="font-family: monospace; color: #003300; background-color: #EEEEEE">efw default restart</span> (она полностью удалит все правила; однако пользовательские цепочки других интерфейсов не будут затронуты) и далее загрузить заново правила для нужного или всех интерфейсов.
</li></ul>
<a name=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B" id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet_Firewall&amp;action=edit&amp;section=6" title="Править секцию: Примеры">править</a>]</span> <span class="mw-headline"> Примеры </span></h3>
<p><span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/eth0/fw/options</span>
</p>
<pre># Our WAN IP address
WAN_IP=5.6.7.8/24
# First net
NET1=1.2.3.0/24
# Second net
NET2=4.3.2.0/24
# Friend net
FRIEND_NET=5.6.7.0/24</pre>
<p><span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/eth0/fw/iptables/filter/INPUT</span>
</p>
<pre>accept all from any to $IPV4ADDRESS
jump-to COUNT-CHAIN if marked as 0x11</pre>
<p><span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/eth0/fw/iptables/filter/FORWARD</span>
</p>
<pre>jump-to FRIEND-NET if from $FRIEND-NET
append drop tcp from net $NET1 to net NET2
delete drop udp from $NET1 to $NET2
insert reject udp to $WAN_IP
drop icmp to $(somescript.sh)</pre>
<p><span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/eth0/fw/iptables/filter/FRIEND-NET</span>
</p>
<pre>policy reject</pre>
<p><span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/eth0/fw/iptables/mangle/PREROUTING</span>
</p>
<pre>insert 15 mark tcp as 0x10 if from-iface $NAME and dport is 22
mark tcp as 0x11 if from net $NET1 and from-iface $NAME</pre>
<p><span style="font-family: monospace; color: #004400; background-color: / #FFFFFF">/etc/net/ifaces/eth0/fw/iptables/nat/POSTROUTING</span>
</p>
<pre>snat-to $WAN_IP if marked as 0x10</pre>
<a name=".D0.A3.D1.82.D0.B8.D0.BB.D0.B8.D1.82.D1.8B" id=".D0.A3.D1.82.D0.B8.D0.BB.D0.B8.D1.82.D1.8B"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet_Firewall&amp;action=edit&amp;section=7" title="Править секцию: Утилиты">править</a>]</span> <span class="mw-headline"> Утилиты </span></h3>
<ul><li> В <span style="font-family: monospace; color: #440044; background-color: / #FFFFFF">contrib</span> находятся следующие вспомогательные утилиты:
<ul><li> Скрипт <span style="font-family: monospace; color: #440000; background-color: / #FFFFFF">efw</span>, который предназначен для ручного управления сетевым экраном и умеет следующее:
</li></ul>
</li></ul>
<pre>Usage: ./efw [iface] [table] [chain] &lt;action&gt; [iptables rule or action options]

 iface    - 'default' (by default), real interface name or 'all' for all interfaces
 table    - 'mangle', 'filter' (by default), 'nat' or 'all' for all tables
 chain    -  system or user defined chain name (case sensitive!) or 'all' for all chains
 action   - 'start','stop','restart','load','unload','reload','flush','show|list','count|counters',
            'rule','new|create','remove|delete','zero','policy','rename'
 start    - process all tables and chains for given interface (even when chain or table is defined)
 stop     - process all tables and chains for given interface (even when chain or table is defined)
 restart  - equivalent to stop then start
 load     - load rules for given interface, table and chain
 unload   - unload rules for given interface, table and chain
 reload   - equivalent to unload then load
 flush    - flush rules for given interface, table and chain
 show     - list rules for given interface, table and chain
 list     - same as show
 count    - show counters for given table and chains
 counters - same as count
 rule     - parse rule and pass it to iptables
 new      - create new chain
 create   - same as new
 remove   - remove chain
 delete   - same as remove
 zero     - zero packet and byte counters in chain
 policy   - set default policy for chain
 rename   - rename chain

Options for action 'show' or 'list':
 -n or numeric - numeric output for IP addresses, ports and services
 -v or verbose - verbose output of rules
 -x or exact   - expand numbers instead of rounded numbers
 --line-numbers or lines - display line number for each rule</pre>
<dl><dd><dl><dd> На текущий момент он умеет частично угадывать интерфейс, таблицу и цепочку (если их не передали в командной строке) и все действия, кроме <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">counters</span>. Так же поддерживается маска <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">all</span> для интерфейсов, таблиц и цепочек.
</dd></dl>
</dd></dl>
<a name=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4" id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet_Firewall&amp;action=edit&amp;section=8" title="Править секцию: Примеры команд">править</a>]</span> <span class="mw-headline"> Примеры команд </span></h3>
<ul><li> Выгрузить (<i>flush</i>) все правила из всех цепочек всех таблиц, удалить цепочки, заданные пользователем, выгрузить все загруженные модули:
<dl><dd> <span style="font-family: monospace; color: #003300; background-color: #EEEEEE">efw default stop</span>
</dd></dl>
</li><li> Выгрузить (путем удаления каждого правила в обратном порядке) все правила из цепочки <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">FORWARD</span> таблицы <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">filter</span> для интерфейса <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">eth0</span>:
<dl><dd> <span style="font-family: monospace; color: #003300; background-color: #EEEEEE">efw eth0 unload</span>
</dd></dl>
</li><li> Загрузить все правила для всех цепочек во всех таблицах всех интерфейсов:
<dl><dd> <span style="font-family: monospace; color: #003300; background-color: #EEEEEE">efw all all all load</span>
</dd></dl>
</li><li> Обработать правило и добавить его во все цепочки таблицы <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">filter</span>:
<dl><dd> <span style="font-family: monospace; color: #003300; background-color: #EEEEEE">efw default filter all rule accept all from any</span>
</dd></dl>
</li><li> Если вы изменяете какое-то правило в конфигурационных файлах при уже загруженных правилах <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">iptables</span>, то для того, чтобы в памяти не остались старые правила, необходимо или выгрузить все правила для текущего интерфейса (если вы настраиваете для конкретного интерфейса, а не <span style="font-family: monospace; color: #000044; background-color: / #FFFFFF">default</span>) перед изменением файлов или после изменения использовать команду <span style="font-family: monospace; color: #003300; background-color: #EEEEEE">efw default restart</span> (она полностью удалит <i>все</i> правила; однако пользовательские цепочки других интерфейсов не будут затронуты) и далее загрузить заново правила для нужного или всех интерфейсов. Таким образом, наиболее используемой командой при изменении конфигурации сетевого экрана является:
</li></ul>
<dl><dd> <span style="font-family: monospace; color: #003300; background-color: #EEEEEE">efw default stop&nbsp;; efw all start</span>
</dd></dl>
<a name=".D0.9F.D1.80.D0.BE.D1.87.D0.B5.D0.B5" id=".D0.9F.D1.80.D0.BE.D1.87.D0.B5.D0.B5"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet_Firewall&amp;action=edit&amp;section=9" title="Править секцию: Прочее">править</a>]</span> <span class="mw-headline"> Прочее </span></h3>
<p><a href="http://fly.osdn.org.ua/~mike/works/misc/iptables2etcnet/" class="external text" title="http://fly.osdn.org.ua/~mike/works/misc/iptables2etcnet/" rel="nofollow">Конвертор правил</a>, точнее, дампа <span style="font-family: monospace; color: #440000; background-color: / #FFFFFF">iptables-save</span> (альфа! и требует <span style="font-family: monospace; color: #440044; background-color: / #FFFFFF">ruby</span>) в соответствующее расположение правил в <span style="font-family: monospace; color: #440044; background-color: / #FFFFFF">etcnet</span>
</p>
<hr />
<p>Весь этот текст относится к версии <span style="font-family: monospace; color: #440044; background-color: / #FFFFFF">etcnet &gt;= 0.8.5</span>
</p>
<a name=".D0.A1.D1.81.D1.8B.D0.BB.D0.BA.D0.B8" id=".D0.A1.D1.81.D1.8B.D0.BB.D0.BA.D0.B8"></a><h2><span class="editsection">[<a href="/index.php?title=Etcnet_Firewall&amp;action=edit&amp;section=10" title="Править секцию: Ссылки">править</a>]</span> <span class="mw-headline"> Ссылки </span></h2>
<ol class="references"><li id="cite_note-0"><a href="#cite_ref-0" title="">↑</a> <a href="http://iptables-tutorial.frozentux.net/iptables-tutorial.html" class="external text" title="http://iptables-tutorial.frozentux.net/iptables-tutorial.html" rel="nofollow">Iptables Tutorial</a></li></ol>
<p><br />
</p>
<div class="NavFrame noprint" style="clear:both; margin-top:0em;">
<div class="NavHead" style="background: #ccf;font-weight:normal"><span style="font-weight:bold">etcnet</span>
</div>
<div class="NavContent" style="font-size:95%;">
<p><span><a href="/Etcnet" title="Etcnet">Etcnet</a></span>&nbsp;&bull;&#32;<span><strong class="selflink">Etcnet Firewall</strong></span>&nbsp;&bull;&#32;<span><a href="/Etcnet_QoS" title="Etcnet QoS">Etcnet QoS</a></span>
</p>
</div>
<div class="NavEnd">&nbsp;</div>
</div>

<!-- 
NewPP limit report
Preprocessor node count: 740/1000000
Post-expand include size: 14421/2097152 bytes
Template argument size: 2141/2097152 bytes
Expensive parser function count: 0/100
-->
<div class="printfooter">
&nbsp;</div>
			<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:Categories" title="Служебная:Categories">Категории</a>:&#32;<span dir='ltr'><a href="/%D0%9A%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D1%8F:Admin" title="Категория:Admin">Admin</a></span> | <span dir='ltr'><a href="/%D0%9A%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D1%8F:Etcnet" title="Категория:Etcnet">Etcnet</a></span></div></div>			<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Просмотры</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="/Etcnet_Firewall" title="Содержание статьи [c]" accesskey="c">Статья</a></li>
				 <li id="ca-talk" class="new"><a href="/index.php?title=%D0%9E%D0%B1%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5:Etcnet_Firewall&amp;action=edit&amp;redlink=1" title="Обсуждение содержания страницы [t]" accesskey="t">Обсуждение</a></li>
				 <li id="ca-edit"><a href="/index.php?title=Etcnet_Firewall&amp;action=edit" title="Эту страницу можно изменять. Используйте, пожалуйста, предварительный просмотр перед сохранением [e]" accesskey="e">Править</a></li>
				 <li id="ca-history"><a href="/index.php?title=Etcnet_Firewall&amp;action=history" title="Журнал изменений страницы [h]" accesskey="h">История</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Личные инструменты</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/index.php?title=%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:UserLogin&amp;returnto=Etcnet_Firewall" title="Здесь можно зарегистрироваться в системе, но это необязательно. [o]" accesskey="o">Войти / зарегистрироваться</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/images/3/30/Alt_linux_team_small.png);" href="/%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F_%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0" title="Перейти на заглавную страницу [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Навигация</h5>
		<div class='pBody'>
			<ul>
				<li id="n-.D0.93.D0.BB.D0.B0.D0.B2.D0.BD.D0.B0.D1.8F-.D1.81.D1.82.D1.80.D0.B0.D0.BD.D0.B8.D1.86.D0.B0"><a href="/%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F_%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0">Главная страница</a></li>
				<li id="n-.D0.92.D1.81.D0.B5-.D1.81.D1.82.D1.80.D0.B0.D0.BD.D0.B8.D1.86.D1.8B"><a href="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:AllPages">Все страницы</a></li>
				<li id="n-.D0.9A.D0.B0.D1.82.D0.B5.D0.B3.D0.BE.D1.80.D0.B8.D0.B8"><a href="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:Categories">Категории</a></li>
				<li id="n-recentchanges"><a href="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:RecentChanges" title="Список последних изменений [r]" accesskey="r">Свежие правки</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-.D0.A0.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D1.8B_wiki'>
		<h5>Разделы wiki</h5>
		<div class='pBody'>
			<ul>
				<li id="n-.D0.9A.D0.BD.D0.B8.D0.B3.D0.B8"><a href="/Books:Main_page">Книги</a></li>
				<li id="n-.D0.A0.D1.83.D0.BA.D0.BE.D0.B2.D0.BE.D0.B4.D1.81.D1.82.D0.B2.D0.B0"><a href="/%D0%9A%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D1%8F:%D0%A0%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%B0">Руководства</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-.D0.9E_wiki'>
		<h5>О wiki</h5>
		<div class='pBody'>
			<ul>
				<li id="n-.D0.9F.D1.80.D0.B0.D0.B2.D0.B8.D0.BB.D0.B0"><a href="/ALT_Linux_Wiki:%D0%9E%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5">Правила</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-.D1.80.D0.B5.D0.B4.D0.B0.D0.BA.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5'>
		<h5>редактирование</h5>
		<div class='pBody'>
			<ul>
				<li id="n-.D0.A1.D0.BF.D0.B8.D1.81.D0.BE.D0.BA-.D0.BA.D0.B0.D1.80.D1.82.D0.B8.D0.BD.D0.BE.D0.BA"><a href="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:ListFiles">Список картинок</a></li>
				<li id="n-.D0.A1.D0.BF.D0.B8.D1.81.D0.BE.D0.BA-.D1.88.D0.B0.D0.B1.D0.BB.D0.BE.D0.BD.D0.BE.D0.B2"><a href="/%D0%9A%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D1%8F:%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D1%8B">Список шаблонов</a></li>
				<li id="n-.D0.9F.D0.B5.D1.81.D0.BE.D1.87.D0.BD.D0.B8.D1.86.D0.B0"><a href="/ALT_Linux_Wiki:%D0%9F%D0%B5%D1%81%D0%BE%D1%87%D0%BD%D0%B8%D1%86%D0%B0">Песочница</a></li>
				<li id="n-.D0.A0.D0.B0.D0.B1.D0.BE.D1.82.D0.B0-.D0.BD.D0.B0.D0.B4-wiki"><a href="/ALT_Linux_Wiki:Main_Page">Работа над wiki</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C'>
		<h5>помощь</h5>
		<div class='pBody'>
			<ul>
				<li id="n-help"><a href="/ALT_Linux_Wiki:%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BA%D0%B0" title="Справочник по проекту «ALT Linux Wiki»">Справка</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Поиск</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" title="Искать это слово [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Перейти" title="Перейти к странице, имеющей в точности такое название" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Найти" title="Найти страницы, содержащие указанный текст" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Инструменты</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:WhatLinksHere/Etcnet_Firewall" title="Список всех страниц, которые ссылаются на эту страницу [j]" accesskey="j">Ссылки сюда</a></li>
				<li id="t-recentchangeslinked"><a href="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:RecentChangesLinked/Etcnet_Firewall" title="Последние изменения в страницах, на которые ссылается эта страница [k]" accesskey="k">Связанные правки</a></li>
<li id="t-specialpages"><a href="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:SpecialPages" title="Список служебных страниц [q]" accesskey="q">Спецстраницы</a></li>
				<li id="t-print"><a href="/index.php?title=Etcnet_Firewall&amp;printable=yes" title="Версия для печати этой страницы [p]" accesskey="p">Версия для печати</a></li>				<li id="t-permalink"><a href="/index.php?title=Etcnet_Firewall&amp;oldid=7183" title="Постоянная ссылка на эту версию страницы">Постоянная ссылка</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
			<ul id="f-list">
					<li id="lastmod"> &nbsp;</li>
					<li id="copyright">Содержимое доступно в соответствии с <a href="/ALT_Linux_Wiki:Copyright" title="ALT Linux Wiki:Copyright">CC-BY-SA-3.0</a>.</li>
					<li id="privacy"><a href="/ALT_Linux_Wiki:%D0%9F%D0%BE%D0%BB%D0%B8%D1%82%D0%B8%D0%BA%D0%B0_%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B4%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8" title="ALT Linux Wiki:Политика конфиденциальности">Политика конфиденциальности</a></li>
					<li id="about"><a href="/ALT_Linux_Wiki:%D0%9E%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5" title="ALT Linux Wiki:Описание">Описание ALT Linux Wiki</a></li>
					<li id="disclaimer"><a href="/ALT_Linux_Wiki:%D0%9E%D1%82%D0%BA%D0%B0%D0%B7_%D0%BE%D1%82_%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8" title="ALT Linux Wiki:Отказ от ответственности">Отказ от ответственности</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 1.180 secs. --></body></html>
