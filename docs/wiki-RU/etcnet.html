<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.14.0" />
		<meta name="keywords" content="Etcnet,,Etcnet/firewall,Etcnet/qos,Etcnet Firewall,Etcnet QoS" />
		<link rel="stylesheet" type="text/css" href="/extensions/SearchSuggest/SearchSuggest.css" />
		<link rel="alternate" type="application/x-wiki" title="Править" href="http://www.altlinux.org/index.php?title=Etcnet&amp;action=edit" />
		<link rel="edit" title="Править" href="http://www.altlinux.org/index.php?title=Etcnet&amp;action=edit" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ALT Linux Wiki (ru)" />
		<link rel="copyright" href="/ALT_Linux_Wiki:Copyright" />
		<link rel="alternate" type="application/rss+xml" title="ALT Linux Wiki — RSS-лента" href="http://www.altlinux.org/index.php?title=%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="ALT Linux Wiki — Atom-лента" href="http://www.altlinux.org/index.php?title=%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:RecentChanges&amp;feed=atom" />
		<title>etcnet — ALT Linux Wiki</title>
		<link rel="stylesheet" href="/skins/common/shared.css?195" type="text/css" media="screen" />
		<link rel="stylesheet" href="/skins/common/commonPrint.css?195" type="text/css" media="print" />
		<link rel="stylesheet" href="/skins/monobook/main.css?195" type="text/css" media="screen" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE50Fixes.css?195" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE55Fixes.css?195" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="/skins/monobook/IE60Fixes.css?195" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="/skins/monobook/IE70Fixes.css?195" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" />
		<link rel="stylesheet" href="/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" media="print" />
		<link rel="stylesheet" href="/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" />
		<link rel="stylesheet" href="/index.php?title=-&amp;action=raw&amp;maxage=18000&amp;gen=css" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?195"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/skins";
		var wgArticlePath = "/$1";
		var wgScriptPath = "";
		var wgScript = "/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://www.altlinux.org";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Etcnet";
		var wgTitle = "Etcnet";
		var wgAction = "view";
		var wgArticleId = "419";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "ru";
		var wgContentLanguage = "ru";
		var wgBreakFrames = false;
		var wgCurRevisionId = "10040";
		var wgVersion = "1.14.0";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = [",	.", " 	,"];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="/skins/common/wikibits.js?195"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="/extensions/SearchSuggest/SearchSuggest.js"></script>
		<script type="text/javascript">hookEvent("load", ss_ajax_onload);</script>
		<script type="text/javascript" src="/skins/common/ajax.js?195"></script>
<style type="text/css">/*<![CDATA[*/
.source-ini {line-height: normal;}
.source-ini li, .source-ini pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for ini
 * CSS class: source-ini, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.source-ini .de1, .source-ini .de2 {font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;}
.source-ini  {font-family: monospace;}
.source-ini .imp {font-weight: bold; color: red;}
.source-ini li, .source-ini li.li1 {font-weight: normal;}
.source-ini li.li2 {font-weight: bold;}
.source-ini .co0 {color: #666666; font-style: italic;}
.source-ini .sy0 {color: #000066; font-weight:bold;}
.source-ini .st0 {color: #933;}
.source-ini .re0 {color: #000066; font-weight:bold;}
.source-ini .re1 {color: #000099;}
.source-ini .re2 {color: #660066;}
.source-ini .ln-xtra, .source-ini li.ln-xtra, .source-ini div.ln-xtra {background-color: #ffc;}
.source-ini span.xtra { display:block; }

/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
@import "/index.php?title=MediaWiki:Geshi.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
/*]]>*/
</style><style type="text/css">/*<![CDATA[*/
.source-bash {line-height: normal;}
.source-bash li, .source-bash pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for bash
 * CSS class: source-bash, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.source-bash .de1, .source-bash .de2 {font-family: monospace; font-weight: normal; font-style: normal; margin:0; padding:0; background:inherit;}
.source-bash  {font-family: monospace;}
.source-bash .imp {font-weight: bold; color: red;}
.source-bash li, .source-bash li.li1 {font-weight: normal;}
.source-bash li.li2 {font-weight: bold;}
.source-bash .kw1 {color: #000000; font-weight: bold;}
.source-bash .kw2 {color: #c20cb9; font-weight: bold;}
.source-bash .kw3 {color: #7a0874; font-weight: bold;}
.source-bash .co0 {color: #666666; font-style: italic;}
.source-bash .co1 {color: #800000;}
.source-bash .co2 {color: #cc0000; font-style: italic;}
.source-bash .es0 {color: #000099; font-weight: bold;}
.source-bash .br0 {color: #7a0874; font-weight: bold;}
.source-bash .sy0 {color: #000000; font-weight: bold;}
.source-bash .st0 {color: #ff0000;}
.source-bash .nu0 {color: #000000;}
.source-bash .re0 {color: #007800;}
.source-bash .re1 {color: #007800;}
.source-bash .re2 {color: #007800;}
.source-bash .re4 {color: #007800;}
.source-bash .re5 {color: #660033;}
.source-bash .ln-xtra, .source-bash li.ln-xtra, .source-bash div.ln-xtra {background-color: #ffc;}
.source-bash span.xtra { display:block; }

/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
@import "/index.php?title=MediaWiki:Geshi.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
/*]]>*/
</style>		<script type="text/javascript" src="/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Etcnet skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">etcnet</h1>
		<div id="bodyContent">
			<h3 id="siteSub">Материал из ALT Linux Wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Перейти к: <a href="#column-one">навигация</a>, <a href="#searchInput">поиск</a></div>			<!-- start content -->
			<p><span style="font-size: 180%">Подсказки пользователю /etc/net</span>
</p><p>Дополнительные страницы:
</p>
<ul><li> <a href="/Etcnet/qos" title="Etcnet/qos" class="mw-redirect">настройка QoS</a>
</li><li> <a href="/Etcnet/firewall" title="Etcnet/firewall" class="mw-redirect">настройка сетевого экрана (firewall</a>)
</li></ul>
<div id="quickstart"></div>
<table id="toc" class="toc" summary="Содержание"><tr><td><div id="toctitle"><h2>Содержание</h2></div>
<ul>
<li class="toclevel-1"><a href="#.D0.91.D1.8B.D1.81.D1.82.D1.80.D1.8B.D0.B9_.D1.81.D1.82.D0.B0.D1.80.D1.82"><span class="tocnumber">1</span> <span class="toctext">Быстрый старт</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.93.D0.B4.D0.B5_.D0.B1.D1.80.D0.B0.D1.82.D1.8C_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8E"><span class="tocnumber">1.1</span> <span class="toctext">Где брать информацию</span></a></li>
<li class="toclevel-2"><a href="#.D0.9A.D0.B0.D0.BA_.D0.B1.D1.8B.D1.81.D1.82.D1.80.D0.BE_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B8.D1.82.D1.8C_.D0.BE.D0.B4.D0.BD.D1.83_.D0.BA.D0.B0.D1.80.D1.82.D1.83_Ethernet"><span class="tocnumber">1.2</span> <span class="toctext">Как быстро настроить одну карту Ethernet</span></a></li>
<li class="toclevel-2"><a href="#.D0.9A.D0.B0.D0.BA_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B8.D1.82.D1.8C_ifplugd"><span class="tocnumber">1.3</span> <span class="toctext">Как настроить ifplugd</span></a></li>
<li class="toclevel-2"><a href="#.D0.9A.D0.B0.D0.BA_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B8.D1.82.D1.8C_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81_PPP"><span class="tocnumber">1.4</span> <span class="toctext">Как настроить интерфейс PPP</span></a></li>
<li class="toclevel-2"><a href="#.D0.9A.D0.B0.D0.BA_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B8.D1.82.D1.8C_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81_PPtP_.D0.B8.D0.BB.D0.B8_PPPoE"><span class="tocnumber">1.5</span> <span class="toctext">Как настроить интерфейс PPtP или PPPoE</span></a></li>
<li class="toclevel-2"><a href="#DNS_.D0.B8_PPP-.D1.81.D0.BE.D0.B5.D0.B4.D0.B8.D0.BD.D0.B5.D0.BD.D0.B8.D1.8F"><span class="tocnumber">1.6</span> <span class="toctext">DNS и PPP-соединения</span></a></li>
<li class="toclevel-2"><a href="#restart.2C_reload_.D0.B8_.D0.B4.D1.80.D1.83.D0.B3.D0.B8.D0.B5_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4.D1.8B"><span class="tocnumber">1.7</span> <span class="toctext">restart, reload и другие команды</span></a></li>
<li class="toclevel-2"><a href="#.D0.9F.D1.80.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.BB.D1.8B_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8_.D0.B0.D0.B4.D1.80.D0.B5.D1.81.D0.BE.D0.B2"><span class="tocnumber">1.8</span> <span class="toctext">Протоколы конфигурации адресов</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.9F.D0.BE.D1.87.D0.B5.D0.BC.D1.83_.D0.B2.D1.81.D1.91_.D1.82.D0.B0.D0.BA_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B5.D0.BD.D0.BE"><span class="tocnumber">2</span> <span class="toctext">Почему всё так устроено</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.9E.D0.B1.D1.89.D0.B8.D0.B5_.D1.81.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D1.8F"><span class="tocnumber">2.1</span> <span class="toctext">Общие сведения</span></a></li>
<li class="toclevel-2"><a href="#.D0.9A.D0.B0.D0.BA_.D0.BE.D1.80.D0.B3.D0.B0.D0.BD.D0.B8.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D1.8B_.D0.BE.D0.BF.D1.86.D0.B8.D0.B8_.D0.BF.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E"><span class="tocnumber">2.2</span> <span class="toctext">Как организованы опции по умолчанию</span></a></li>
<li class="toclevel-2"><a href="#.D0.97.D0.B0.D1.87.D0.B5.D0.BC_.D0.BD.D1.83.D0.B6.D0.B5.D0.BD_iftab"><span class="tocnumber">2.3</span> <span class="toctext">Зачем нужен iftab</span></a></li>
<li class="toclevel-2"><a href="#.D0.98.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B_lo.2C_default_.D0.B8_unknown"><span class="tocnumber">2.4</span> <span class="toctext">Интерфейсы lo, default и unknown</span></a></li>
<li class="toclevel-2"><a href="#.D0.9E_.D0.B7.D0.B0.D0.B3.D0.B0.D0.B4.D0.BE.D1.87.D0.BD.D0.BE.D0.BC_broadcast"><span class="tocnumber">2.5</span> <span class="toctext">О загадочном broadcast</span></a></li>
<li class="toclevel-2"><a href="#.D0.9E_.D1.8F.D0.B4.D1.80.D0.B5_2.6_.D0.B8_.D0.BF.D1.80.D0.BE.D0.BF.D0.B0.D0.B4.D0.B0.D1.8E.D1.89.D0.B8.D1.85_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0.D1.85"><span class="tocnumber">2.6</span> <span class="toctext">О ядре 2.6 и пропадающих интерфейсах</span></a></li>
<li class="toclevel-2"><a href="#.D0.9E_hotplug-.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0.D1.85_.D0.B8_.D0.BD.D0.B5_.D1.82.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE"><span class="tocnumber">2.7</span> <span class="toctext">О hotplug-интерфейсах и не только</span></a></li>
<li class="toclevel-2"><a href="#.D0.92_.D0.BA.D0.B0.D0.BA.D0.B8.D1.85_.D1.81.D0.BB.D1.83.D1.87.D0.B0.D1.8F.D1.85_eth0_.D0.B2.D1.80.D0.B5.D0.B4.D0.B5.D0.BD"><span class="tocnumber">2.8</span> <span class="toctext">В каких случаях eth0 вреден</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.A0.D0.B0.D1.81.D1.88.D0.B8.D1.80.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.B2.D0.BE.D0.B7.D0.BC.D0.BE.D0.B6.D0.BD.D0.BE.D1.81.D1.82.D0.B8"><span class="tocnumber">3</span> <span class="toctext">Расширенные возможности</span></a>
<ul>
<li class="toclevel-2"><a href="#.D0.9D.D0.B5.D1.81.D0.BA.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_IP-.D0.B0.D0.B4.D1.80.D0.B5.D1.81.D0.BE.D0.B2_.D0.B8.D0.BB.D0.B8_.D0.BC.D0.B0.D1.80.D1.88.D1.80.D1.83.D1.82.D0.BE.D0.B2_.D0.BD.D0.B0_.D0.BE.D0.B4.D0.BD.D0.BE.D0.BC_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B5"><span class="tocnumber">3.1</span> <span class="toctext">Несколько IP-адресов или маршрутов на одном интерфейсе</span></a></li>
<li class="toclevel-2"><a href="#.D0.97.D0.B0.D0.B2.D0.B8.D1.81.D0.B8.D0.BC.D0.BE.D1.81.D1.82.D0.B8_.D0.BC.D0.B5.D0.B6.D0.B4.D1.83_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0.D0.BC.D0.B8"><span class="tocnumber">3.2</span> <span class="toctext">Зависимости между интерфейсами</span></a></li>
<li class="toclevel-2"><a href="#.D0.9A.D0.B0.D0.BA_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D1.8C_.D1.81.D0.B2.D0.BE.D0.B8_.D1.81.D1.86.D0.B5.D0.BD.D0.B0.D1.80.D0.B8.D0.B8_post_.D0.B8_pre"><span class="tocnumber">3.3</span> <span class="toctext">Как использовать свои сценарии post и pre</span></a></li>
<li class="toclevel-2"><a href="#.D0.9A.D0.B0.D0.BA_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D1.8F.D1.82.D1.8C_.D0.BA.D0.B0.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.BC.D0.B8_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D0.B0.D0.BC.D0.B8_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.BE.D0.B2"><span class="tocnumber">3.4</span> <span class="toctext">Как управлять канальными параметрами интерфейсов</span></a></li>
<li class="toclevel-2"><a href="#.D0.9A.D0.B0.D0.BA_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D1.8F.D1.82.D1.8C_.D1.84.D0.B8.D0.B7.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.BC.D0.B8_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D0.B0.D0.BC.D0.B8_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.BE.D0.B2"><span class="tocnumber">3.5</span> <span class="toctext">Как управлять физическими параметрами интерфейсов</span></a></li>
<li class="toclevel-2"><a href="#.D0.9A.D0.B0.D0.BA_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B8.D1.82.D1.8C_Ethernet-.D0.BC.D0.BE.D1.81.D1.82"><span class="tocnumber">3.6</span> <span class="toctext">Как настроить Ethernet-мост</span></a></li>
<li class="toclevel-2"><a href="#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_IP-.D1.82.D1.83.D0.BD.D0.BD.D0.B5.D0.BB.D0.B5.D0.B9"><span class="tocnumber">3.7</span> <span class="toctext">Настройка и использование IP-туннелей</span></a></li>
<li class="toclevel-2"><a href="#.D0.A7.D1.82.D0.BE_.D1.81.D0.BB.D0.B5.D0.B4.D1.83.D0.B5.D1.82_.D0.BF.D0.BE.D0.BC.D0.BD.D0.B8.D1.82.D1.8C_.D0.BF.D1.80.D0.B8_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B5_VPN_.28.D0.B8_.D1.82.D1.83.D0.BD.D0.BD.D0.B5.D0.BB.D0.B5.D0.B9.29"><span class="tocnumber">3.8</span> <span class="toctext">Что следует помнить при настройке VPN (и туннелей)</span></a></li>
<li class="toclevel-2"><a href="#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_IPSec-.D1.82.D1.83.D0.BD.D0.BD.D0.B5.D0.BB.D0.B5.D0.B9"><span class="tocnumber">3.9</span> <span class="toctext">Настройка и использование IPSec-туннелей</span></a></li>
<li class="toclevel-2"><a href="#.D0.A1.D0.BB.D0.BE.D0.B6.D0.BD.D0.B0.D1.8F_.D0.BC.D0.B0.D1.80.D1.88.D1.80.D1.83.D1.82.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F"><span class="tocnumber">3.10</span> <span class="toctext">Сложная маршрутизация</span></a></li>
<li class="toclevel-2"><a href="#.D0.9F.D1.80.D0.BE.D1.81.D1.82.D0.BE.D0.B5_.D0.BF.D0.B5.D1.80.D0.B5.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.B0.D1.80.D1.88.D1.80.D1.83.D1.82.D0.BE.D0.B2"><span class="tocnumber">3.11</span> <span class="toctext">Простое переключение маршрутов</span></a></li>
<li class="toclevel-2"><a href="#.D0.9E_.D0.B1.D0.B5.D1.81.D0.BF.D1.80.D0.BE.D0.B2.D0.BE.D0.B4.D0.BD.D0.BE.D0.BC_Ethernet"><span class="tocnumber">3.12</span> <span class="toctext">О беспроводном Ethernet</span></a></li>
<li class="toclevel-2"><a href="#.D0.9A.D0.B0.D0.BA_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D1.8C_.D0.B0.D0.B2.D1.82.D0.BE.D0.B4.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2_sysctl.conf"><span class="tocnumber">3.13</span> <span class="toctext">Как использовать автодополнение в sysctl.conf</span></a></li>
<li class="toclevel-2"><a href="#.D0.9F.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D0.B8_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8"><span class="tocnumber">3.14</span> <span class="toctext">Профили конфигурации</span></a>
<ul>
<li class="toclevel-3"><a href="#.D0.9E.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D0.B5.D0.B9"><span class="tocnumber">3.14.1</span> <span class="toctext">Определение профилей</span></a></li>
<li class="toclevel-3"><a href="#.D0.92.D1.8B.D0.B1.D0.BE.D1.80_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D1.8F_.D0.BF.D1.80.D0.B8_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B5"><span class="tocnumber">3.14.2</span> <span class="toctext">Выбор профиля при загрузке</span></a></li>
<li class="toclevel-3"><a href="#.D0.92.D1.8B.D0.B1.D0.BE.D1.80_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D1.8F_.D0.BF.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E"><span class="tocnumber">3.14.3</span> <span class="toctext">Выбор профиля по умолчанию</span></a></li>
<li class="toclevel-3"><a href="#.D0.A1.D0.BC.D0.B5.D0.BD.D0.B0_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D1.8F_.D0.B2.D0.BE_.D0.B2.D1.80.D0.B5.D0.BC.D1.8F_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D1.8B"><span class="tocnumber">3.14.4</span> <span class="toctext">Смена профиля во время работы</span></a></li>
<li class="toclevel-3"><a href="#.D0.9E.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D1.8F_.D0.B2.D0.BE_.D0.B2.D1.80.D0.B5.D0.BC.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0"><span class="tocnumber">3.14.5</span> <span class="toctext">Определение профиля во время конфигурации интерфейса</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "показать"; var tocHideText = "убрать"; showTocToggle(); } </script>
<a name=".D0.91.D1.8B.D1.81.D1.82.D1.80.D1.8B.D0.B9_.D1.81.D1.82.D0.B0.D1.80.D1.82" id=".D0.91.D1.8B.D1.81.D1.82.D1.80.D1.8B.D0.B9_.D1.81.D1.82.D0.B0.D1.80.D1.82"></a><h2><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=1" title="Править секцию: Быстрый старт">править</a>]</span> <span class="mw-headline"> Быстрый старт </span></h2>
<div id="docs"></div>
<a name=".D0.93.D0.B4.D0.B5_.D0.B1.D1.80.D0.B0.D1.82.D1.8C_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8E" id=".D0.93.D0.B4.D0.B5_.D0.B1.D1.80.D0.B0.D1.82.D1.8C_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8E"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=2" title="Править секцию: Где брать информацию">править</a>]</span> <span class="mw-headline"> Где брать информацию </span></h3>
<p>Обращаю внимание, что начиная с версии 0.8.0 документация <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> переместилась из комментариев, рассеянных по множеству файлов, в несколько man-страниц. Список всех файлов документации пакета можно получить командой
</p>
<pre>rpmquery -d etcnet</pre>
<div id="onecard"></div>
<a name=".D0.9A.D0.B0.D0.BA_.D0.B1.D1.8B.D1.81.D1.82.D1.80.D0.BE_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B8.D1.82.D1.8C_.D0.BE.D0.B4.D0.BD.D1.83_.D0.BA.D0.B0.D1.80.D1.82.D1.83_Ethernet" id=".D0.9A.D0.B0.D0.BA_.D0.B1.D1.8B.D1.81.D1.82.D1.80.D0.BE_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B8.D1.82.D1.8C_.D0.BE.D0.B4.D0.BD.D1.83_.D0.BA.D0.B0.D1.80.D1.82.D1.83_Ethernet"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=3" title="Править секцию: Как быстро настроить одну карту Ethernet">править</a>]</span> <span class="mw-headline"> Как быстро настроить одну карту Ethernet </span></h3>
<ol><li> Создайте каталог <tt>/etc/net/ifaces/eth0</tt>. Это собственный каталог конфигурации данного интерфейса, в нём будут храниться файлы с настройками.
</li><li> Определите, какой модуль необходим для вашей карты. Для этого можно использовать lspci, lspcidrake, pciscan. Затем
</li><li> В каталоге конфигурации создайте файл <tt>options</tt>, в который впишите строку <pre>MODULE=&lt;имя модуля&gt;</pre>. Больше ничего пока не добавляйте.
</li><li> Выясните, какой IP-адрес должен быть назначен вашему интерфейсу. Если интерфейс конфигурируется по DHCP, то поместите в файл <tt>/etc/net/ifaces/eth0/options</tt> строку <tt>BOOTPROTO=dhcp</tt> и переходите к шагу 7. <b>Замечание:</b> в ряде случаев может также понадобиться <pre>DHCP_HOSTNAME=&lt;имя машины без домена&gt;</pre>. Эта опция описана в man-странице <tt>etcnet-options</tt>. Также необходимо, чтобы была пустая строка в конце файла.
</li><li> У вашего интерфейса есть два взаимосвязанных атрибута: IP-адрес и сетевая маска. Текущие назначенные адреса можно просмотреть командой <tt>/sbin/ip address show</tt>. Скорее всего вы увидите, что интерфейс-петля lo уже сконфигурирован с адресом 127.0.0.1/8. Создайте файл <tt>/etc/net/ifaces/eth0/ipv4address</tt>, в который поместите IP-адрес с длиной маски, например <pre>10.0.0.20/24</pre>. Наиболее популярны маски /24 и /30. Для справки приводится##LINKTOFTN ftnd1## таблица соответствия сетевых масок в различных нотациях.
</li><li> Выясните адрес вашего шлюза (маршрут по умолчанию). Например, этот IP-адрес — 10.0.0.254. Создайте файл <tt>/etc/net/ifaces/eth0/ipv4route</tt>, в который поместите строку <pre>default via 10.0.0.254</pre>
</li><li> Убедитесь, что всё выполнено правильно, выполнив команду <tt>service network restart</tt>. Ваш интерфейс должен быть успешно сконфигурирован. Если вы конфигурировали использование DHCP, но адрес интерфейсу не назначается, просмотрите <tt>/var/log/messages</tt>.
</li></ol>
<div id="ifplugd"></div>
<a name=".D0.9A.D0.B0.D0.BA_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B8.D1.82.D1.8C_ifplugd" id=".D0.9A.D0.B0.D0.BA_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B8.D1.82.D1.8C_ifplugd"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=4" title="Править секцию: Как настроить ifplugd">править</a>]</span> <span class="mw-headline"> Как настроить ifplugd </span></h3>
<p>С версии 0.7.10 <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> управляет ifplugd самостоятельно. Это было сделано для лучшей интеграции пакетов и для возможности мониторить несколько интерфейсов одновременно. Для корректного использования ifplugd необходимо выполнить <tt>chkconfig ifplugd off</tt> и назначить переменную USE_IFPLUGD в файлах options соответствующих интерфейсов. Комментарий по данной переменной дан в файле <tt>/etc/net/ifaces/default/options-eth</tt>.
</p>
<div id="ppp"></div>
<a name=".D0.9A.D0.B0.D0.BA_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B8.D1.82.D1.8C_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81_PPP" id=".D0.9A.D0.B0.D0.BA_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B8.D1.82.D1.8C_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81_PPP"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=5" title="Править секцию: Как настроить интерфейс PPP">править</a>]</span> <span class="mw-headline"> Как настроить интерфейс PPP </span></h3>
<p>Для настройки обычного модемного PPP-соединения вам нужно:
</p>
<ol><li> Создать каталог конфигурации, например, <tt>/etc/net/ifaces/ppp5</tt>. Сейчас вы не можете использовать что-либо кроме pppN или pppNN или pppNNN и т. п.
</li><li> Прочесть <tt>/etc/net/ifaces/default/options-ppp</tt>
</li><li> Создать файлы конфигурации. Скорее всего вам понядобятся pppconnect и pppdisconnect, чтобы pppd знал, как дозваниваться и соединяться. Это скрипты для программы chat(8). Кроме этого в файле pppoptions можно (а зачастую нужно) перечислить опции pppd(8), определяющие способ авторизации, скорость и название порта и т. п.
</li><li> Заполнить <tt>/etc/ppp/chap-secrets</tt> или <tt>/etc/ppp/pap-secrets</tt>.
</li></ol>
<div id="ppp-pptp-pppoe"></div>
<a name=".D0.9A.D0.B0.D0.BA_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B8.D1.82.D1.8C_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81_PPtP_.D0.B8.D0.BB.D0.B8_PPPoE" id=".D0.9A.D0.B0.D0.BA_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B8.D1.82.D1.8C_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81_PPtP_.D0.B8.D0.BB.D0.B8_PPPoE"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=6" title="Править секцию: Как настроить интерфейс PPtP или PPPoE">править</a>]</span> <span class="mw-headline"> Как настроить интерфейс PPtP или PPPoE </span></h3>
<p>Хотя PPtP-соединения могут быть настроены и как обычные PPP-соединения, в <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> версии 0.7.10 для удобства пользователей была введена опция PPPTYPE. Она может принимать следующие значения:
</p>
<ul><li> dialup: обычный PPP-интерфейс.
</li><li> pppoe: интерфейс PPPoE. Для такого интерфейса необходимо в опции HOST указывать имя Ethernet-интерфейса, через который будет производиться работа PPPoE. Побочным положительным эффектом будет то, что этот интерфейс будет при необходимости автоматически подниматься (см. ##FTN requires##).
</li><li> pptp: интерфейс PPtP. Для такого интерфейса необходимо в опции PPTP_SERVER указывать имя хоста или IP-адрес PPtP-сервера, к которому будет производиться подключение. Обратите внимание, что хотя такие интерфейсы не имеют опции HOST, в большинстве случаев имеет смысл указать в опции REQUIRES интерфейс, через который будет достижим хост, указанный в PPTP_SERVER.
</li></ul>
<p>См также <a href="#vpn" title="">VPN</a>
</p>
<div id="DNSandPPP"></div>
<a name="DNS_.D0.B8_PPP-.D1.81.D0.BE.D0.B5.D0.B4.D0.B8.D0.BD.D0.B5.D0.BD.D0.B8.D1.8F" id="DNS_.D0.B8_PPP-.D1.81.D0.BE.D0.B5.D0.B4.D0.B8.D0.BD.D0.B5.D0.BD.D0.B8.D1.8F"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=7" title="Править секцию: DNS и PPP-соединения">править</a>]</span> <span class="mw-headline"> DNS и PPP-соединения </span></h3>
<div style="display: inline; color: red;">Внимание: здесь описывается проблема, которая на самом деле была создана, а не решена — бишь ради специфики <a href="https://bugzilla.altlinux.org/show_bug.cgi?id=13789" class="external text" title="https://bugzilla.altlinux.org/show_bug.cgi?id=13789" rel="nofollow">kppp</a> была создана чётная ошибка в <a href="https://bugzilla.altlinux.org/show_bug.cgi?id=13773" class="external text" title="https://bugzilla.altlinux.org/show_bug.cgi?id=13773" rel="nofollow">ppp-common</a>; последняя уже исправлена.</div>
Довольно долгое время существовала проблема неправильной модификации /etc/resolv.conf при установке PPP-соединений: <a href="https://bugzilla.altlinux.org/show_bug.cgi?id=4249" class="external free" title="https://bugzilla.altlinux.org/show_bug.cgi?id=4249" rel="nofollow">https://bugzilla.altlinux.org/show_bug.cgi?id=4249</a>. Сейчас она решена, но необходимо дать пояснения. Прежде всего убедитесь, что у вас в файле <tt>/etc/resolv.conf</tt> есть строка <pre># ppp temp entry</pre>
<p>Если этой строки нет, то в файле не будут модифицироваться строки nameserver, если только какая-нибудь программа типа kppp это не сделает специально. Если такая строка есть, то <tt>/etc/resolv.conf</tt> будет модифицироваться в зависимости от значения булевской переменной RESOLV_MODS, которую необходимо задавать в файле <tt>/etc/sysconfig/network</tt>.//
</p>
<div style="display: inline; color: red;">Внимание</div>: при ppp-common &gt;= 0.4-alt1 строки <tt># ppp temp entry</tt> в <tt>/etc/resolv.conf</tt> при отсутствии PPP-соединения, поднятого какой-либо «звонилкой», запущенной от рута — быть <b>не должно</b>! Если есть — уберите, чтобы <tt>/etc/ppp/ip-up</tt> занимался обновлением записей про DNS в этом файле.
<div id="restartreload"></div>
<a name="restart.2C_reload_.D0.B8_.D0.B4.D1.80.D1.83.D0.B3.D0.B8.D0.B5_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4.D1.8B" id="restart.2C_reload_.D0.B8_.D0.B4.D1.80.D1.83.D0.B3.D0.B8.D0.B5_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4.D1.8B"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=8" title="Править секцию: restart, reload и другие команды">править</a>]</span> <span class="mw-headline"> restart, reload и другие команды </span></h3>
<p>У сервиса network имеется ряд команд:
</p>
<ul><li> start: запустить все стационарные интерфейсы. hotplug-интерфейсы будут сконфигурированы при поступлении соответствующего вызова от hotplug.
</li><li> startwith &lt;имя профиля&gt;: start с указанным именем профиля, а не определённым автоматически.
</li><li> stop: остановить все стационарные интерфейсы. hotplug-интерфейсы будут расконфигурированы при поступлении соответствующего вызова от hotplug.
</li><li> stopwith &lt;имя профиля&gt;: stop с указанным именем профиля, а не определённым автоматически.
</li><li> restart: эквивалентно stop с последующим start, как и в большинстве других сервисов.
</li><li> restartwith &lt;имя профиля&gt;: рестарт в контексте указанного профиля, эквивалентно stopwith &lt;имя профиля&gt; и startwith &lt;имя профиля&gt;.
</li><li> switchto &lt;имя профиля&gt;: переключение в указанный профиль, эквивалентно stop и startwith &lt;имя профиля&gt;.
</li><li> reload: семантически обозначает «актуализировать текущую конфигурацию». Для всех сконфигурированных в настоящий момент интерфейсов будет выполнена реконфигурация при наличии конфигурации.
</li><li> check: автоматическая проверка конфигурационной базы.
</li></ul>
<div id="bootproto"></div>
<a name=".D0.9F.D1.80.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.BB.D1.8B_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8_.D0.B0.D0.B4.D1.80.D0.B5.D1.81.D0.BE.D0.B2" id=".D0.9F.D1.80.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.BB.D1.8B_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8_.D0.B0.D0.B4.D1.80.D0.B5.D1.81.D0.BE.D0.B2"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=9" title="Править секцию: Протоколы конфигурации адресов">править</a>]</span> <span class="mw-headline"> Протоколы конфигурации адресов </span></h3>
<p>С помощью опции BOOTPROTO вы можете управлять тем, как у интерфейса будут появляться адреса и маршруты (это относится только к протоколу IPv4, так как IPv6 и IPX приобретают адреса только статически).
</p>
<ul><li> static — адреса и маршруты будут взяты из <tt>ipv4address</tt> и <tt>ipv4route</tt>.
</li><li> dhcp — интерфейс будет сконфигурирован по DHCP.
</li><li> ipv4ll — интерфейс будет сконфигурирован с помощью IPv4LL (link-local), ранее известному как ZCIP (zeroconf IP). Это значит, что из сети 169.254.0.0/16 будет подобран ещё не использованный адрес и назначен на интерфейс.
</li></ul>
<p>Существует несколько комбинированных способов:
</p>
<ul><li> dhcp-static — если конфигурация по DHCP не удалась, конфигурировать методом static.
</li><li> dhcp-ipv4ll — если конфигурация по DHCP не удалась, конфигурировать методом ipv4ll.
</li><li> dhcp-ipv4ll-static — если конфигурация по DHCP не удалась, конфигурировать методом ipv4ll. Если и это не удалось, конфигурировать методом static.
</li></ul>
<div id="internals"></div>
<a name=".D0.9F.D0.BE.D1.87.D0.B5.D0.BC.D1.83_.D0.B2.D1.81.D1.91_.D1.82.D0.B0.D0.BA_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B5.D0.BD.D0.BE" id=".D0.9F.D0.BE.D1.87.D0.B5.D0.BC.D1.83_.D0.B2.D1.81.D1.91_.D1.82.D0.B0.D0.BA_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B5.D0.BD.D0.BE"></a><h2><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=10" title="Править секцию: Почему всё так устроено">править</a>]</span> <span class="mw-headline"> Почему всё так устроено </span></h2>
<div id="generalinfo"></div>
<a name=".D0.9E.D0.B1.D1.89.D0.B8.D0.B5_.D1.81.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D1.8F" id=".D0.9E.D0.B1.D1.89.D0.B8.D0.B5_.D1.81.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D1.8F"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=11" title="Править секцию: Общие сведения">править</a>]</span> <span class="mw-headline"> Общие сведения </span></h3>
<p><a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> — немного больше, чем кажется на первый взгляд. Несмотря на это, <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> остаётся системой конфигурации сети в Linux, то есть должна позволить вам сконфигурировать вашу сеть без трюков и особого напряжения. Если вы всё же читаете эту страницу, то у вас, вероятно, возникли трудности с её использованием.
</p><p>Для начала я дам ряд утверждений, от которых можно оттолкнуться:
</p>
<ol><li> У проекта есть сайт, на котором можно найти примеры конфигурации и тексты, претендующие на звание документации: <a href="http://etcnet.org/" class="external free" title="http://etcnet.org/" rel="nofollow">http://etcnet.org/</a>
</li><li> <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> интегрирован в ALTLinux Sisyphus в виде пакетов:
<ul><li> etcnet (базовые сценарии)
</li><li> etcnet-full (виртуальный пакет с зависимостями на все пакеты, которые могут использоваться сценариями <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a>, с указанием их точных версий)
</li><li> etcnetconf (<b>прототип</b> конфигуратора)
</li><li> etcnet-defaults-desktop (умолчания для рабочей станции)
</li><li> etcnet-defaults-server (умолчания для сервера)
</li></ul>
</li><li> Пакеты etcnet и net-scripts — две конфликтующие реализации такой сущности, как «подсистема конфигурации сети» (network-config-subsystem).
</li><li> При установке etcnet вместо net-scripts или наоборот сервис network оказывается выключенным. Это означает, что при загрузке системы сеть не будет сконфигурирована, проверить это можно командой <tt>chkconfig --list network</tt>. Для быстрого исправления проблемы можно дать команду <tt>chkconfig network reset</tt>.
</li><li> etcnet <b>НЕ</b> импортирует автоматически настройки net-scripts. Если вы только что установили etcnet и ваши сетевые интерфейсы всё ещё остаются сконфигурированными (несмотря на уже отсутствующий пакет net-scripts), то вы можете запустить сценарий <tt>/etc/net/scripts/initconf</tt>. Он попытается проанализировать текущее состояние интерфейсов и выведет вам результат. Никаких файлов при этом записано не будет. Если вам понравится вывод initconf, запустите его с параметром write и он проделает то же самое, но уже с сохранением конфигурации.
</li><li> Для корректной работы системы в целом необходимо, чтобы содержимое файла <tt>/etc/sysconfig/network</tt> было корректным.
</li><li> Переменные sysctl в ALT Linux конфигурируются в следующих местах: <tt>/etc/sysctl.conf</tt> (глобальные системные), <tt>/etc/sysconfig/network-scripts/sysctl.conf</tt> (общие сетевые в net-scripts), <tt>/etc/net/sysctl.conf</tt> (общие сетевые в <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a>), <tt>/etc/net/ifaces/*/sysctl.conf*</tt> (частные для конкретных интерфейсов или их типов в <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a>).
</li></ol>
<div id="options.d"></div>
<a name=".D0.9A.D0.B0.D0.BA_.D0.BE.D1.80.D0.B3.D0.B0.D0.BD.D0.B8.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D1.8B_.D0.BE.D0.BF.D1.86.D0.B8.D0.B8_.D0.BF.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E" id=".D0.9A.D0.B0.D0.BA_.D0.BE.D1.80.D0.B3.D0.B0.D0.BD.D0.B8.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D1.8B_.D0.BE.D0.BF.D1.86.D0.B8.D0.B8_.D0.BF.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=12" title="Править секцию: Как организованы опции по умолчанию">править</a>]</span> <span class="mw-headline"> Как организованы опции по умолчанию </span></h3>
<p>Методология <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> предусматривает несколько шагов наследования опций, первый из которых — загрузка опций по умолчанию. Раньше это происходило из одного файла <tt>/etc/net/options</tt>, сейчас же в нашем распоряжении есть каталог <tt>/etc/net/options.d</tt>, из которого будут последовательно прочитаны все файлы.
</p><p>Смысл этого нагромождения следующий: оригинальный архив etcnet содержит только файл <tt>/etc/net/options.d/00-default</tt>.
</p><p>Упаковщик etcnet в какой-либо дистрибутив вместо того, чтобы прикладывать патч, просто добавляет файл с бОльшим номером, который переопределяет нужные опции.
</p><p>Администратору системы может не понравиться дистрибутивный набор, в этом случае он создаст файл с ещё более высоким номером и определит умолчания для своей системы. В результате такого подхода:
</p>
<ol><li> Уменьшается количество патчей (хотя их свойство отваливаться бывает полезным).
</li><li> Не изменяются файлы с опциями, принадлежащие пакету. Это делает обновление пакета намного более корректным.
</li><li> Сразу видно, на каком этапе какие опции переопределяются.
</li></ol>
<div id="iftab"></div>
<a name=".D0.97.D0.B0.D1.87.D0.B5.D0.BC_.D0.BD.D1.83.D0.B6.D0.B5.D0.BD_iftab" id=".D0.97.D0.B0.D1.87.D0.B5.D0.BC_.D0.BD.D1.83.D0.B6.D0.B5.D0.BD_iftab"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=13" title="Править секцию: Зачем нужен iftab">править</a>]</span> <span class="mw-headline"> Зачем нужен iftab </span></h3>
<p>Имена сетевых интерфейсов по умолчанию, как правило, содержат их тип (eth, ppp, wifi, ipsec) и индекс: 0 для первого созданного интерфейса, 1 для второго и т. д. При этом соответствие автоматически назначенных имён физическим устройствам может не сохраняться.
</p><p>Эта особенность неудобна, когда машина с Linux имеет более одного интерфейса каждого типа. Типичными примерами являются маршрутизаторы и ноутбуки. В маршрутизаторах, как правило, используются однотипные сетевые карты и при их замене или изменении порядка на PCI-шине соответствие оказывается нарушенным. В ноутбуках используются ethernet и wifi-устройства с горячим подключением, при этом слотов и карт может быть более чем 1. В этом случае пользователь скорее всего пожелает закрепить за каждой сменной картой её конфигурацию.
</p><p><a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> при конфигурации интерфейса использует то имя, под которым он сконфигурирован, а именно имя каталога, в котором хранятся файлы конфигурации интерфейса.
</p><p>Для привязки сетевой карты к имени интерфейса в простых случаях можно воспользоваться файлом <tt>/etc/iftab</tt>, man-страница по формату которого входит в пакет <tt>ifrename</tt> (man 5 iftab).
</p><p>Использование <tt>/etc/iftab</tt> удобно, поскольку позволяет сохранять традиционные имена интерфейсов (например, eth0), но этот механизм не поддерживает расширенную функциональность <tt>/etc/net</tt> (в частности, <i>профили</i> /etc/net).
</p><p>Средством, позволяющим использовать все возможности <tt>etcnet</tt>, является файл <tt>/etc/net/iftab</tt>, обрабатываемый не утилитой <tt>ifrename</tt>, а непосредственно <tt>etcnet</tt>. Синтаксис этого файла совпадает с синтаксисом <tt>/etc/iftab</tt>. Ограничением же является невозможность использовать стандартные имена интерфейсом (<tt>ethX</tt>, <tt>pppX</tt>), так как переименование интерфейсов происходит уже после конфигурации интерфейса ядром. В случае, если вам необходим <tt>/etc/net/iftab</tt>, имеет смысл переименовать интерфейсы, давая им либо двухзначные номера (<tt>eth00</tt>, <tt>eth01</tt>...), либо осмысленные названия (<tt>isplink</tt>, <tt>lan</tt>...)
</p><p>См. письмо про <a href="http://lists.altlinux.org/pipermail/sisyphus/2009-March/337924.html" class="external text" title="http://lists.altlinux.org/pipermail/sisyphus/2009-March/337924.html" rel="nofollow">важность /etc/iftab</a>
и тж. это письмо про <a href="http://lists.altlinux.org/pipermail/devel/2007-October/065097.html" class="external text" title="http://lists.altlinux.org/pipermail/devel/2007-October/065097.html" rel="nofollow">отличия etcnet и сервиса ifrename</a>:
</p>
<blockquote style="float:none; padding: 3px 15px 3px 15px; border:thin solid #e0e0e0;">
<div>И сразу позволю себе прокомментировать другие письма этого треда:
<p>1. «etcnet уже научился менять местами eth0 и eth1?»
</p><p>Освоение этого фокуса обладает сомнительной пользой. Я по-прежнему
рекомендую рассматривать eth0 как временное имя с малым сроком жизни,
а для повышения комфорта пользователей Ethernet-интерфейсы предлагаю
называть eth00, eth01, eth02 etc.
</p><p>2. «Существование (номинальное) net-scripts вынуждает поддерживать
ряд сервисов, которые иначе могли бы быть упразднены»
</p><p>Эти сервисы можно обезвредить контролем CONFMETHOD
из /etc/sysconfig/network. При этом зависимости на пакет etcnet
не возникнет, только на network-config-subsystem. Примеры таких
пакетов должны быть в Sisyphus.
</p><p>3. «после приведения в порядок /etc/udev/rules.d/19-udev-ifrename.rules
нужности в /etc/net/iftab я не заметил»
</p><p>Важнейшее принципиальное отличие /etc/net/iftab от /etc/iftab —
нахождение /etc/net/iftab в специальном пространстве имён. Для него
действуют механизмы определения профиля и хоста конфигурации. Это,
например, позволит _желающим_ составить конфигурацию так, что срочный
ремонт маршрутизатора сведётся к переносу диска (или массива)
из сгоревшего шасси в запасное. Возможны и другие примеры, которые
станут невозможными при помещении iftab в /etc и его лобовой
интерпретации.
</p><p>Конечно, пользователю единственного ноутбука с одним-двумя сетевыми
интерфейсами такая практика — полный overkill, но его никто и не
</p>
заставляет видеть всю подводную часть. В этом и гибкость.</div></blockquote>
<div id="specifaces"></div>
<a name=".D0.98.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B_lo.2C_default_.D0.B8_unknown" id=".D0.98.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B_lo.2C_default_.D0.B8_unknown"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=14" title="Править секцию: Интерфейсы lo, default и unknown">править</a>]</span> <span class="mw-headline"> Интерфейсы lo, default и unknown </span></h3>
<p>Сразу после установки в каталоге <tt>/etc/net/ifaces</tt> (в котором хранятся конфигурации интерфейсов) можно обнаружить три каталога: lo, default и unknown.
</p><p>Интерфейс lo — стандартная петля, которая должна быть во всякой Linux-системе, поэтому конфигурация для него включена по умолчанию. В остальном он ничем не отличается от любого другого интерфейса и конфигурируется точно так же файлами options и ipv4address.
</p><p>Интерфейс default — вовсе не интерфейс. Это специальный каталог, файлы в котором обрабатываются следующим образом:
</p>
<ul><li> resolv.conf — если присутствует, то копируется в <tt>/etc/resolv.conf</tt>.
</li><li> options — файл опций, читается после опций по умолчанию. Этот файл содержит комментарии.
</li><li> options-&lt;вид интерфейса&gt; — этот файл содержит опции, специфичные для данного вида интерфейсов. Какие-то из них необязательны и позволяют использовать особенности данного вида интерфейсов, например, LINKDETECT в options-eth; другие обязательны, например, HOST в options-bri. Эти файлы содержат комментарии. Обратите внимание, что эти файлы лучше не редактировать. Если вам нужно задать опцию для интерфейса, то как правило это можно сделать в файле options в конфигурационном каталоге данного интерфейса. Это облегчит процесс обновления пакета etcnet.
</li><li> sysctl.conf-&lt;вид интерфейса&gt; — файл с переменными sysctl, которые необходимо изменить. Сейчас единственный такой файл — sysctl.conf-dvb, который отключает return path filter, что всегда нужно в случае асимметричной маршрутизации.
</li><li> iplink-&lt;вид интерфейса&gt; — файл с командами iplink, специфичными для данного вида.
</li><li> selectprofile — если этот файл исполняемый, то он будет вызван из сценариев ifup/ifdown, setup/shutdown для того, чтобы вернуть на стандартном выводе имя профиля, которое необходимо использовать. Это позволяет автоматически переключать профили в зависимости от каких-либо условий. В поставку включен комментированный пример сценария: <tt>/etc/net/ifaces/default/selectprofile</tt>.
</li><li> fw — каталог с настройками сетевого экрана по умолчанию.
</li></ul>
<p>Интерфейс unknown — специальная конфигурация, которая будет использована в том случае, когда <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> просят сконфигурировать hotplug-интерфейс, для которого не существует каталога конфигурации. Это будет работать только в том случае, если включена опция ALLOW_UNKNOWN.
</p>
<div id="broadcast"></div>
<a name=".D0.9E_.D0.B7.D0.B0.D0.B3.D0.B0.D0.B4.D0.BE.D1.87.D0.BD.D0.BE.D0.BC_broadcast" id=".D0.9E_.D0.B7.D0.B0.D0.B3.D0.B0.D0.B4.D0.BE.D1.87.D0.BD.D0.BE.D0.BC_broadcast"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=15" title="Править секцию: О загадочном broadcast">править</a>]</span> <span class="mw-headline"> О загадочном broadcast </span></h3>
<p>Периодически возникает вопрос: почему после старта <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> при запуске ifconfig можно видеть Bcast:0.0.0.0, хотя при использовании net-scripts это поле было правильным? Дело в том, что net-scripts оперируют адресом, маской, адресом сети и широковещательным адресом, пытаясь определить неизвестные компоненты из известных, а <tt>config-ipv4</tt> просто передаёт утилите ip содержимое файла ipv4address, не заботясь о его содержимом. Хорошо ли это или плохо? Я думаю, что скорее хорошо.
</p><p>Во-первых, если iproute2 изменит свой синтаксис, то с большой вероятностью править придётся только конфигурационные файлы.
Во-вторых, я пока не встречал проблем с «отсутствующим» broadcast address. Он есть в таблице маршрутизации local. В-третьих, вы всегда можете назначить адрес broadcast в файле ipv4address. Проще всего это сделать с помощью выражения <tt>broadcast +</tt>##LINKTOFTN ftnd2##.
Обновление: в версии 0.8.0 появилась опция <tt>AUTO_BROADCAST</tt> для автоматического дополнения каждой строки <tt>ipv4address</tt>.
</p>
<div id="never_rmmod"></div>
<a name=".D0.9E_.D1.8F.D0.B4.D1.80.D0.B5_2.6_.D0.B8_.D0.BF.D1.80.D0.BE.D0.BF.D0.B0.D0.B4.D0.B0.D1.8E.D1.89.D0.B8.D1.85_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0.D1.85" id=".D0.9E_.D1.8F.D0.B4.D1.80.D0.B5_2.6_.D0.B8_.D0.BF.D1.80.D0.BE.D0.BF.D0.B0.D0.B4.D0.B0.D1.8E.D1.89.D0.B8.D1.85_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0.D1.85"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=16" title="Править секцию: О ядре 2.6 и пропадающих интерфейсах">править</a>]</span> <span class="mw-headline"> О ядре 2.6 и пропадающих интерфейсах </span></h3>
<p>Иногда жалуются, что если два интерфейса используют один и тот же модуль ядра и у них определена опция MODULE (то есть скрипты <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> сами загружают и выгружают модули), то при опускании одного интерфейса пропадает и второй. Почти наверняка используется ядро 2.6, особенностью которого являются странные значения счётчика ссылок (третий столбец вывода lsmod). Когда он оказывается равен нулю (довольно часто), скрипты могут попытаться выгрузить модуль интерфейса, для которого запущен ifdown. И у них получится, несмотря на то, что другой интерфейс, использующий этот же модуль, находится в состоянии UP.
</p><p>Чтобы заблокировать выгрузку модулей, можно использовать булевскую переменную NEVER_RMMOD. Возможно, позже это будет происходить автоматически для таких странных ядер.
</p>
<div id="removables"></div>
<a name=".D0.9E_hotplug-.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0.D1.85_.D0.B8_.D0.BD.D0.B5_.D1.82.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE" id=".D0.9E_hotplug-.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0.D1.85_.D0.B8_.D0.BD.D0.B5_.D1.82.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=17" title="Править секцию: О hotplug-интерфейсах и не только">править</a>]</span> <span class="mw-headline"> О hotplug-интерфейсах и не только </span></h3>
<p>Часто задают вопросы об опции USE_HOTPLUG, причём задают в контексте уже установленной кем-то USE_HOTPLUG=yes. Я попробую объяснить, зачем нужна эта опция и как её правильно использовать. Есть несколько сценариев конфигурации сети.
</p><p>Первый и самый простой — выполнение <tt>service network start</tt> при старте системы или вручную. При этом требуется только сформировать погруппные (потиповые) списки интерфейсов, подлежащих обработке, и последовательно выполнить требуемые действия. Модули ядра при этом загружаются сценариями <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a>, при этом имена модулей берутся из опции MODULE (кстати, в этой опции можно перечислить несколько имён и они будут последовательно загружены, только не забудьте взять список в кавычки). Это мой любимый метод конфигурации, он лучше всего подходит для маршрутизаторов. Преимущество его в том, что вся необходимая информация сконцентрирована в одном месте — каталоге <tt>/etc/net</tt>. Если опция MODULE не определена, то будет предпринята попытка загрузки по имени интерфейса в надежде на правильно заполненный <tt>/etc/modules.conf</tt>.
</p><p>Второй сценарий — реакция на событие ifplugd. Раньше существовала путаница, так как требовалась синхронная настройка сервиса ifplugd, но сейчас логика работы более определена, так как <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> взяла управление ifplugd на себя. В части загрузки модуля этот сценарий не отличается от первого.
</p><p>Третий сценарий — реакция на появление или исчезновение сменного устройства. Для обработки таких событий предназначены сценарии <tt>/etc/net/scripts/{ifup,ifdown}-removable</tt>, которые вызываются из сценариев пакетов hotplug и pcmcia-cs. Сложность заключается в том, что для сменных PCMCIA-карт вызовы могут дублироваться: для одного и того же события первый раз ifup-removable будет вызван из hotplug, второй — из pcmcia-cs. Но это не всё. hotplug также реагирует на загрузку модулей ядра для обычных карт PCI и более того, включает сценарии, которые пытаются загружать модули самостоятельно. В этом контексте <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> получает слишком много вызовов от hotplug и по умолчанию их игнорирует (USE_HOTPLUG=no).
</p><p>Предположим, вам необходимо настроить действительно сменную карту. После заполнения <tt>/etc/iftab</tt> или <tt>/etc/net/iftab</tt> в файле options необходимо будет задать USE_HOTPLUG=yes. После этого при получении события от hotplug <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> будет работать в том контексте, что модуль в загрузке и выгрузке не нуждается. Кроме того, <b>такой интерфейс будет пропущен при обычном старте сети</b>. Почему? Потому, что если он сменный, то единственный достоверный способ узнать, что он присутствует — получить вызов от hotplug. Из факта выполнения <tt>service network start</tt> совсем не следует, что какой-то один или несколько из сконфигурированных hotplug-интерфейсов сейчас в наличии и требует конфигурации. Если вы хотите вручную расконфигурировать hotplug-интерфейс до его извлечения, дайте команду ifdown. Для повторной конфигурации вставьте его ещё раз.
</p><p>Также существует опция USE_PCMCIA. Если события для вашей карты генерирует pcmcia-cs, то вам нужно её включить. Если события генерируются только hotplug, то используйте опцию USE_HOTPLUG.
</p>
<div id="eth0"></div>
<a name=".D0.92_.D0.BA.D0.B0.D0.BA.D0.B8.D1.85_.D1.81.D0.BB.D1.83.D1.87.D0.B0.D1.8F.D1.85_eth0_.D0.B2.D1.80.D0.B5.D0.B4.D0.B5.D0.BD" id=".D0.92_.D0.BA.D0.B0.D0.BA.D0.B8.D1.85_.D1.81.D0.BB.D1.83.D1.87.D0.B0.D1.8F.D1.85_eth0_.D0.B2.D1.80.D0.B5.D0.B4.D0.B5.D0.BD"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=18" title="Править секцию: В каких случаях eth0 вреден">править</a>]</span> <span class="mw-headline"> В каких случаях eth0 вреден </span></h3>
<p>При использовании файла <tt>/etc/net/iftab</tt>, то есть в случае применения сложных конфигураций, возникает следующая проблема:
</p>
<ul><li> При загрузке модулей имена интерфейсов принимают вид eth0, eth1, eth2… Какие именно — в общем случае контролировать нельзя.
</li><li> Имя eth0 обладает наибольшей вероятностью оказаться занятым.
</li><li> ifrename не может переименовать интерфейс, если целевое имя уже занято (udev использует хак — <tt>ifrename -t</tt>, но это не работает после начальной загрузки, см. man-страницу ifrename)
</li></ul>
<p>С учётом этого, если <tt>/etc/net/iftab</tt> содержит тот же набор имён интерфейсов, что уже имеется после загрузки модулей (то есть <tt>eth0</tt>/<tt>eth1</tt> и другие «стандартные» названия), то единственный случай, когда etcnet сможет без ошибок обработать такой файл — изначальное соответствие, не требующее переименования.
</p><p>Таким образом, при использовании <tt>/etc/net/iftab</tt> имеет смысл давать интерфейсам названия, отличные по виду от тех, что назначает ядро. В простых случаях проще использовать <tt>/etc/iftab</tt>.
</p>
<div id="advanced"></div>
<a name=".D0.A0.D0.B0.D1.81.D1.88.D0.B8.D1.80.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.B2.D0.BE.D0.B7.D0.BC.D0.BE.D0.B6.D0.BD.D0.BE.D1.81.D1.82.D0.B8" id=".D0.A0.D0.B0.D1.81.D1.88.D0.B8.D1.80.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.B2.D0.BE.D0.B7.D0.BC.D0.BE.D0.B6.D0.BD.D0.BE.D1.81.D1.82.D0.B8"></a><h2><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=19" title="Править секцию: Расширенные возможности">править</a>]</span> <span class="mw-headline"> Расширенные возможности </span></h2>
<div id="multipleIPs"></div>
<a name=".D0.9D.D0.B5.D1.81.D0.BA.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_IP-.D0.B0.D0.B4.D1.80.D0.B5.D1.81.D0.BE.D0.B2_.D0.B8.D0.BB.D0.B8_.D0.BC.D0.B0.D1.80.D1.88.D1.80.D1.83.D1.82.D0.BE.D0.B2_.D0.BD.D0.B0_.D0.BE.D0.B4.D0.BD.D0.BE.D0.BC_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B5" id=".D0.9D.D0.B5.D1.81.D0.BA.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_IP-.D0.B0.D0.B4.D1.80.D0.B5.D1.81.D0.BE.D0.B2_.D0.B8.D0.BB.D0.B8_.D0.BC.D0.B0.D1.80.D1.88.D1.80.D1.83.D1.82.D0.BE.D0.B2_.D0.BD.D0.B0_.D0.BE.D0.B4.D0.BD.D0.BE.D0.BC_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B5"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=20" title="Править секцию: Несколько IP-адресов или маршрутов на одном интерфейсе">править</a>]</span> <span class="mw-headline"> Несколько IP-адресов или маршрутов на одном интерфейсе </span></h3>
<p>Вы можете помещать произвольное количество IP-адресов в файл ipv4address по одному адресу на каждой строке. То же самое относится к статическим маршрутам и файлу ipv4route.
</p>
Обратите внимание, что <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> не анализирует содержимое этих файлов, а формирует на основе каждой строки командную строку для утилиты ip. Это означает, что вы можете помещать в этих файлах произвольные поддерживаемые ip опции и они будут обработаны. Например, в файле ipv4route можно поместить строку <pre>10.0.1.0/24 via 10.0.0.253 metric 50 weight 5 table 100</pre>
<div id="requires"></div>
<a name=".D0.97.D0.B0.D0.B2.D0.B8.D1.81.D0.B8.D0.BC.D0.BE.D1.81.D1.82.D0.B8_.D0.BC.D0.B5.D0.B6.D0.B4.D1.83_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0.D0.BC.D0.B8" id=".D0.97.D0.B0.D0.B2.D0.B8.D1.81.D0.B8.D0.BC.D0.BE.D1.81.D1.82.D0.B8_.D0.BC.D0.B5.D0.B6.D0.B4.D1.83_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0.D0.BC.D0.B8"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=21" title="Править секцию: Зависимости между интерфейсами">править</a>]</span> <span class="mw-headline"> Зависимости между интерфейсами </span></h3>
<p>У интерфейсов vlan, bond, bri и teql, входящих в группу зависимых физических, должна быть определена опция HOST со списком интерфейсов, необходимых для инициализации текущего интерфейса. Если хост-интерфейс не сконфигурирован при поднятии зависимого интерфейса, то это будет исправлено.
</p><p>Кроме обязательной для определённых интерфейсов опции HOST может быть задана необязательная для всех остальных интерфейсов опция REQUIRES. Интерфейсы, перечисленные в этой опции, будут считаться зависимостями текущего интерфейса. По умолчанию попытка сконфигурировать интерфейс А, который зависит от Б и В, приведёт сначала к конфигурации Б и В. Аналогично, при расконфигурации Б или В сначала будет расконфигурирован А.
</p><p>Зависимость одного интерфейса от другого не всегда формальна. Например, в сценарии ifup-pre одного интерфейса может использоваться команда, которая потребует разрешения DNS-имени, которое может быть разрешено только с помощью resolv.conf, инсталлируемого другим интерфейсом. Или это может быть PPPoE/PPtP-интерфейс, требующий Ethernet-интерфейс для работы.
</p><p>Для того, чтобы избежать неожиданных сбоев в таких случаях, правильно задавайте опцию REQUIRES.
</p>
<div id="postpre"></div>
<a name=".D0.9A.D0.B0.D0.BA_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D1.8C_.D1.81.D0.B2.D0.BE.D0.B8_.D1.81.D1.86.D0.B5.D0.BD.D0.B0.D1.80.D0.B8.D0.B8_post_.D0.B8_pre" id=".D0.9A.D0.B0.D0.BA_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D1.8C_.D1.81.D0.B2.D0.BE.D0.B8_.D1.81.D1.86.D0.B5.D0.BD.D0.B0.D1.80.D0.B8.D0.B8_post_.D0.B8_pre"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=22" title="Править секцию: Как использовать свои сценарии post и pre">править</a>]</span> <span class="mw-headline"> Как использовать свои сценарии post и pre </span></h3>
<p>Вы можете поместить в каталог конфигурации интерфейса файлы, которые будут выполнены в определённые моменты. Для этого они должны быть исполняемыми и называться следующим образом:
</p>
<ul><li> <tt>ifup-pre</tt> — для выполнения перед конфигурированием интерфейса.
</li><li> <tt>ifup-post</tt> — для выполнения после конфигурирования интерфейса. Например, можно запустить почтовую систему.
</li><li> <tt>ifdown-pre</tt> — для выполнения перед расконфигурированием интерфейса. Например, можно остановить почтовую систему.
</li><li> <tt>ifdown-post</tt> — для выполнения после расконфигурирования интерфейса.
</li></ul>
<p>Также в версии до 0.8.0 вы можете использовать следующие сценарии (они должны быть исполняемыми):
</p>
<ul><li> <tt>/etc/net/scripts/ifup-pre-local</tt>
</li><li> <tt>/etc/net/scripts/ifup-post-local</tt>
</li><li> <tt>/etc/net/scripts/ifdown-pre-local</tt>
</li><li> <tt>/etc/net/scripts/ifdown-post-local</tt>
</li></ul>
<p>Они будут вызваны для *каждого* интерфейса. Начиная с версии 0.8.0 эти сценарии называются так:
</p>
<ul><li> <tt>/etc/net/ifup-pre</tt>
</li><li> <tt>/etc/net/ifup-post</tt>
</li><li> <tt>/etc/net/ifdown-pre</tt>
</li><li> <tt>/etc/net/ifdown-post</tt>
</li></ul>
<p>Семантика сохранена.
</p>
<div id="iplink"></div>
<a name=".D0.9A.D0.B0.D0.BA_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D1.8F.D1.82.D1.8C_.D0.BA.D0.B0.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.BC.D0.B8_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D0.B0.D0.BC.D0.B8_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.BE.D0.B2" id=".D0.9A.D0.B0.D0.BA_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D1.8F.D1.82.D1.8C_.D0.BA.D0.B0.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.BC.D0.B8_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D0.B0.D0.BC.D0.B8_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.BE.D0.B2"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=23" title="Править секцию: Как управлять канальными параметрами интерфейсов">править</a>]</span> <span class="mw-headline"> Как управлять канальными параметрами интерфейсов </span></h3>
<p>Если вы поместите в конфигурационный каталог интерфейса файл iplink, в котором в каждой строке будут записаны команды режима link утилиты ip, то они будут выполнены при конфигурации интерфейса. Например, если вы желаете, чтобы интерфейс net1 имел MAC-адрес aa:bb:cc:dd:ee:ff и MTU 200 байт, то в файл <tt>/etc/net/ifaces/net1/iplink</tt> нужно поместить следующее:
</p>
<pre>address aa:bb:cc:dd:ee:ff
mtu 200</pre>
<p>Обратите внимание, что в этом случае в <tt>/etc/net/iftab</tt> вам необходимо будет использовать селектор businfo или driver вместо mac.
</p>
<div id="ethtool"></div>
<a name=".D0.9A.D0.B0.D0.BA_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D1.8F.D1.82.D1.8C_.D1.84.D0.B8.D0.B7.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.BC.D0.B8_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D0.B0.D0.BC.D0.B8_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.BE.D0.B2" id=".D0.9A.D0.B0.D0.BA_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D1.8F.D1.82.D1.8C_.D1.84.D0.B8.D0.B7.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.BC.D0.B8_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D0.B0.D0.BC.D0.B8_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.BE.D0.B2"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=24" title="Править секцию: Как управлять физическими параметрами интерфейсов">править</a>]</span> <span class="mw-headline"> Как управлять физическими параметрами интерфейсов </span></h3>
<p>Если вы поместите в конфигурационный каталог интерфейса файл ethtool, в котором будет строка с параметрами программы ethtool, то она будет выполнена при конфигурации интерфейса. Например, если вы желаете, чтобы интерфейс net1 имел скорость 10Мбит и авто-согласование скорости было отключено, то в файл <tt>/etc/net/ifaces/net1/ethtool</tt> нужно поместить следующее:
</p>
<pre>speed 10 autoneg off
</pre>
<div id="bridge"></div>
<a name=".D0.9A.D0.B0.D0.BA_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B8.D1.82.D1.8C_Ethernet-.D0.BC.D0.BE.D1.81.D1.82" id=".D0.9A.D0.B0.D0.BA_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B8.D1.82.D1.8C_Ethernet-.D0.BC.D0.BE.D1.81.D1.82"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=25" title="Править секцию: Как настроить Ethernet-мост">править</a>]</span> <span class="mw-headline"> Как настроить Ethernet-мост </span></h3>
<p>С пакетом etcnet поставляются примеры конфигурации. Один из них показывает, как из двух ethernet-интерфейсов port0 и port1 можно собрать мост bridge: <a href="http://etcnet.org/examples/Ethernet-bridge-GRE/" class="external free" title="http://etcnet.org/examples/Ethernet-bridge-GRE/" rel="nofollow">http://etcnet.org/examples/Ethernet-bridge-GRE/</a>
</p>
<div id="iptun"></div>
<a name=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_IP-.D1.82.D1.83.D0.BD.D0.BD.D0.B5.D0.BB.D0.B5.D0.B9" id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_IP-.D1.82.D1.83.D0.BD.D0.BD.D0.B5.D0.BB.D0.B5.D0.B9"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=26" title="Править секцию: Настройка и использование IP-туннелей">править</a>]</span> <span class="mw-headline"> Настройка и использование IP-туннелей </span></h3>
<p>IP-туннели — средство, позволяющее при умелом использовании улучшить IP-сети. Поддерживаются IP-туннели трёх видов: IPIP, GRE и SIT. Прежде всего необходимо определиться, какой вид туннеля вам необходим. Туннели IPIP — самые простые. Обратите внимание, что IPIP-туннели не могут передавать multicast-пакеты, соответственно, OSPF на таких интерфейсах работать не будет.
</p><p>Туннели GRE (general incapsulation) обычно используются в маршрутизаторах Cisco. По туннелям этого типа могут передаваться broadcast и multicast пакеты, кроме того, эти туннели поддерживают контрольные суммы и контроль упорядоченности пакетов. Также GRE-туннели обладают опциональным атрибутом key в виде произвольного 4-байтового числа, который позволяет конфигурировать несколько GRE туннелей между одной парой IP-адресов несущей сети (в отличие от IPIP-туннелей, с которыми это невозможно).
</p><p>Туннели SIT предназначены для транспортировки пакетов IPv6 через сети IPv4.
</p><p>Тип туннеля определяется опцией TUNTYPE (ipip, gre, sit). По умолчанию TUNTYPE=ipip. Кроме типа туннеля для конфигурации всегда требуется адрес удалённого хоста и почти всегда — локальный адрес. Эти адреса определяются опциями TUNREMOTE и TUNLOCAL соответственно. В некоторых случаях локальный адрес можно не указывать. В этом случае опция TUNLOCAL всё равно обязательна, но принимает значение any. Не забудьте назначить туннельному интерфейсу адреса и маршруты в соответствущих файлах.
</p><p>Пример: для конфигурации GRE-туннеля между 10.0.1.2 и 10.0.2.3 с двумя ключами для исходящих и входящих пакетов, проверкой очерёдности пакетов, TTL 8 и вычислением контрольных сумм. Туннель должен использовать только интерфейс gw1. Файл <tt>/etc/net/ifaces/mytunnel/options</tt> будет следующим:
</p>
<div dir="ltr" style="text-align: left;"><div class="source-ini" style="font-family: monospace;"><pre><span class="re1">TYPE</span><span class="sy0">=</span><span class="re2">iptun</span>
<span class="re1">TUNTYPE</span><span class="sy0">=</span><span class="re2">gre</span>
<span class="re1">TUNLOCAL</span><span class="sy0">=</span><span class="re2">10.0.1.2</span>
<span class="re1">TUNREMOTE</span><span class="sy0">=</span><span class="re2">10.0.2.3</span>
<span class="re1">TUNTTL</span><span class="sy0">=</span><span class="re2">8</span>
<span class="re1">HOST</span><span class="sy0">=</span><span class="re2">gw1</span>
<span class="re1">TUNOPTIONS</span><span class="sy0">=</span><span class="re2">'seq ikey <span class="nu0">2020</span> okey <span class="nu0">2030</span> csum'</span></pre></div></div>
<div id="vpn"></div>
<a name=".D0.A7.D1.82.D0.BE_.D1.81.D0.BB.D0.B5.D0.B4.D1.83.D0.B5.D1.82_.D0.BF.D0.BE.D0.BC.D0.BD.D0.B8.D1.82.D1.8C_.D0.BF.D1.80.D0.B8_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B5_VPN_.28.D0.B8_.D1.82.D1.83.D0.BD.D0.BD.D0.B5.D0.BB.D0.B5.D0.B9.29" id=".D0.A7.D1.82.D0.BE_.D1.81.D0.BB.D0.B5.D0.B4.D1.83.D0.B5.D1.82_.D0.BF.D0.BE.D0.BC.D0.BD.D0.B8.D1.82.D1.8C_.D0.BF.D1.80.D0.B8_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B5_VPN_.28.D0.B8_.D1.82.D1.83.D0.BD.D0.BD.D0.B5.D0.BB.D0.B5.D0.B9.29"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=27" title="Править секцию: Что следует помнить при настройке VPN (и туннелей)">править</a>]</span> <span class="mw-headline"> Что следует помнить при настройке VPN (и туннелей) </span></h3>
<p>Довольно часто при настройке VPN-подключения (под которыми тут я буду подразумевать все туннельные подключения, то есть подключения поверх IP) забывают, что при использовании опции pppd '<tt>defaultroute</tt>' маршрут по-умолчанию после подключения будет изменен. При этом, если VPN-сервер находится в другой, нежели клиент, сети, то после подключения (и изменения маршрута по-умолчанию) VPN-сервер становится недоступным, следовательно, недоступными становятся все внешние адреса, и подключение, как правило, рвется по тайм-ауту.
</p><p>Выходом, как обычно (и рекомендовано) служит указание <i>отдельного</i> маршрута на VPN-сервер (или его сеть). Для этого необходимо прописать (в примере для маршрута через eth0) в <tt>/etc/net/ifaces/eth0/ipv4route</tt> строку вида
</p>
<pre>10.0.1.0/24 via 10.0.0.1</pre>
<p>Тут подразумевается, что VPN-сервер находится в сети 10.0.1.0/24 (например, имеет адрес 10.0.1.1), клиент — в сети 10.0.0.0/24 (например, 10.0.0.10), а маршрутизатор имеет адрес 10.0.0.1.
</p><p>Теперь, при использовании опции '<tt>defaulroute</tt>' для pppd (которая указывает, что нужно изменить на вновь созданное подключение маршрут по-умолчанию), даже после замены маршрута по-умолчанию новым сеть 10.0.1.0, в которой в нашем примере и находится VPN-сервер, остается доступной.
</p><p>Как более точечный вариант (применяется в alterator-net-pptp 0.5.x) можно использовать скрипты <tt>ifup-pre</tt> и <tt>ifdown-post</tt> в каталоге конфигурируемого PPP-интерфейса; пример:
</p>
<div dir="ltr" style="text-align: left;"><div class="source-bash" style="font-family: monospace;"><pre><span class="co0">#!/bin/sh</span>
<span class="co0"># sample /etc/net/ifaces/ppp0/ifup-pre; replace variables yourself</span>
ip route add <span class="re1">$VPN_SERVER</span> via <span class="re1">$DEF_GW</span></pre></div></div>
<div dir="ltr" style="text-align: left;"><div class="source-bash" style="font-family: monospace;"><pre><span class="co0">#!/bin/sh</span>
<span class="co0"># sample /etc/net/ifaces/ppp0/ifdown-post; replace variables yourself</span>
ip route del <span class="re1">$VPN_SERVER</span> via <span class="re1">$DEF_GW</span></pre></div></div>
<p>Не забудьте подставить нужные IP-адреса (не сеть, где VPN-сервер, а его /32) и сделать <tt>chmod +x ifup-pre ifdown-post</tt>
</p>
<div id="ipsectun"></div>
<a name=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_IPSec-.D1.82.D1.83.D0.BD.D0.BD.D0.B5.D0.BB.D0.B5.D0.B9" id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_IPSec-.D1.82.D1.83.D0.BD.D0.BD.D0.B5.D0.BB.D0.B5.D0.B9"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=28" title="Править секцию: Настройка и использование IPSec-туннелей">править</a>]</span> <span class="mw-headline"> Настройка и использование IPSec-туннелей </span></h3>
<p>В ALT Linux поддерживаются статические IPSec-туннели, которые реализутся модулем ядра ipsec_tunnel, который в свою очередь использует CryptoAPI ядер серии 2.4. Для этих интерфейсов кроме TUNLOCAL и TUNREMOTE обязательно требуется ещё такой параметр как TUNSPI. Это уникальный номер туннеля, он должен быть более 0x2000 и одинаковым на обоих хостах. Эти туннели требуют, чтобы для них были определены параметры либо шифрования, либо подписи, либо того и другого вместе. Опции CIPHER и DIGEST определяют соответственно алгоритмы и режимы шифрования и подписи, а опции CIPHERFILE и DIGESTFILE — имена файлов в конфигурационном каталоге интерфейса, которые содержат ключи шифрования и подписи. Для форсирования интерфейса, через который будут посылаться туннелированные пакеты, можно использовать опцию HOST.
</p>
<div id="iprule"></div>
<a name=".D0.A1.D0.BB.D0.BE.D0.B6.D0.BD.D0.B0.D1.8F_.D0.BC.D0.B0.D1.80.D1.88.D1.80.D1.83.D1.82.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F" id=".D0.A1.D0.BB.D0.BE.D0.B6.D0.BD.D0.B0.D1.8F_.D0.BC.D0.B0.D1.80.D1.88.D1.80.D1.83.D1.82.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=29" title="Править секцию: Сложная маршрутизация">править</a>]</span> <span class="mw-headline"> Сложная маршрутизация </span></h3>
<p>Под сложной маршрутизацией понимается наличие нескольких таблиц маршрутизации. Для их использования нужно будет сконфигурировать правила ядра. Если мы посмотрим на правила по умолчанию, то мы увидим следующее:
</p>
<pre>$ /sbin/ip ru
0:      from all lookup local 
32766:  from all lookup main 
32767:  from all lookup default</pre>
<p>Сами таблицы определены в файле <tt>/etc/iproute2/rt_tables</tt>. Для создания конфигурации «сложной маршрутизации» необходимо вначале «создать» нужные таблицы в этом файле (если вы хотите использовать имена таблиц, а не числа).
</p><p>Следующий шаг — заполнение таблиц. В конфигурационном каталоге интерфейса в файле ipv4route добавьте маршрутные записи, не забыв указать <tt>table XX</tt>. Учтите, что если вы не начинаете строку с режима ip route (add, del, replace, append, change), то по умолчанию будет использован режим DEFAULT_IPV4ROUTE_CMD (append).
</p><p>Второй шаг — определение правил в файле ipv4rule. Опять же, не обошлось без некоторой автоматики. Если строка не начинается с операции del или add, то нужный режим будет подставлен автоматически. Это подходит для тех случаев, когда вам при поднятии интерфейса необходимо добавить правила, а при опускании — удалить. Возможность указывать del или add реализована для обратных случаев: если при поднятии интерфейса вам необходимо удалить правила, а при опускании — добавить. В этом случае add и del будут в нужный момент автоматически заменены на del и add.
</p><p>Пример такой конфигурации входит в <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> 0.7.12: <a href="http://etcnet.org/examples/routing-LARTC-1/" class="external free" title="http://etcnet.org/examples/routing-LARTC-1/" rel="nofollow">http://etcnet.org/examples/routing-LARTC-1/</a>
</p>
<div id="wireless"></div>
<a name=".D0.9F.D1.80.D0.BE.D1.81.D1.82.D0.BE.D0.B5_.D0.BF.D0.B5.D1.80.D0.B5.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.B0.D1.80.D1.88.D1.80.D1.83.D1.82.D0.BE.D0.B2" id=".D0.9F.D1.80.D0.BE.D1.81.D1.82.D0.BE.D0.B5_.D0.BF.D0.B5.D1.80.D0.B5.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.B0.D1.80.D1.88.D1.80.D1.83.D1.82.D0.BE.D0.B2"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=30" title="Править секцию: Простое переключение маршрутов">править</a>]</span> <span class="mw-headline"> Простое переключение маршрутов </span></h3>
<p>В ситуации, когда вы постоянно пользуетесь eth-интерфейсом и у вас настроен маршрут по умолчанию,
бывает удобно настроить второй маршрут по умолчанию через беспроводной интерфейс,
но с метрикой, меньшей чем у проводного интерфейса.
В этом случае, при поднятии WI-FI маршрут по умолчанию «развернется» в нужную сторону.
</p><p>Например:
</p><p><tt>/etc/net/ifaces/eth0/ipv4route</tt>
</p>
<pre>default via 192.168.3.254 metric 10</pre>
<p>и
<tt>/etc/net/ifaces/ath0/ipv4route</tt>
</p>
<pre>default via 192.168.123.1 metric 5</pre>
<a name=".D0.9E_.D0.B1.D0.B5.D1.81.D0.BF.D1.80.D0.BE.D0.B2.D0.BE.D0.B4.D0.BD.D0.BE.D0.BC_Ethernet" id=".D0.9E_.D0.B1.D0.B5.D1.81.D0.BF.D1.80.D0.BE.D0.B2.D0.BE.D0.B4.D0.BD.D0.BE.D0.BC_Ethernet"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=31" title="Править секцию: О беспроводном Ethernet">править</a>]</span> <span class="mw-headline"> О беспроводном Ethernet </span></h3>
<p>Большинство беспроводных интерфейсов сейчас представлено системе как интерфейсы Ethernet. Соответственно ваш беспроводный интерфейс будет иметь <a href="https://bugzilla.altlinux.org/show_bug.cgi?id=6283" class="external text" title="https://bugzilla.altlinux.org/show_bug.cgi?id=6283" rel="nofollow">TYPE=eth</a>. Чтобы он нормально работал, нужно кроме загрузки модуля с параметрами воспользоваться утилитами iwconfig из пакета wireless-tools или wpa_supplicant из такого же пакета. Вместо того, чтобы запускать их вручную, можно просто поместить в конфигурационный каталог интерфейса файл iwconfig с командами iwconfig или файл wpa_supplicant.conf с конфигурацией wpa_supplicant. Они будут использованы автоматически.
</p><p>Пример <a href="http://hpl.hp.com/personal/Jean_Tourrilhes/Linux/Wireless.html" class="external text" title="http://hpl.hp.com/personal/Jean_Tourrilhes/Linux/Wireless.html" rel="nofollow">конфигурации</a> (совместно с <tt><a href="http://ndiswrapper.sourceforge.net/" class="external text" title="http://ndiswrapper.sourceforge.net/" rel="nofollow">ndiswrapper</a></tt>):
<tt>/etc/net/ifaces/wlan0/options</tt>
</p>
<pre>TYPE=eth
MODULE=ndiswrapper
NEVER_RMMOD=yes
BOOTPROTO=dhcp
USE_HOTPLUG=no
ONBOOT=no</pre>
<p><tt>/etc/net/ifaces/wlan0/iwconfig</tt>
</p>
<pre>essid default
#key bababababa</pre>
<p><br />
Еще один пример (от thresh@) использования etcnet для настройки беспроводной сети (в данный момент это не WPA2, но работало и на нем):
<tt>/etc/net/ifaces/eth0/options</tt>
</p>
<pre>TYPE=eth
USE_HOTPLUG=NO
BOOTPROTO=static
module=ipw2200
WPA_DRIVER=wext</pre>
<p><tt>/etc/net/ifaces/eth0/iwconfig</tt>
</p>
<pre>essid homenet
mode 1
ap 00:11:D8:22:AD:0D
channel 3
rate 11M</pre>
<p><tt>/etc/net/ifaces/eth0/wpa_supplicant.conf</tt>
</p>
<pre>ctrl_interface=/var/run/wpa_supplicant
ctrl_interface_group=0
eapol_version=1
ap_scan=1
fast_reauth=1

network={
        ssid=&quot;homenet&quot;
        bssid=00:11:D8:22:AD:0D
        proto=WPA
        key_mgmt=WPA-PSK
        pairwise=CCMP TKIP
        group=TKIP
        psk=&quot;this is my mega secret password string to wpa supplicant&quot;
        priority=2
}</pre>
<p><br />
</p>
<div id="sysctl"></div>
<a name=".D0.9A.D0.B0.D0.BA_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D1.8C_.D0.B0.D0.B2.D1.82.D0.BE.D0.B4.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2_sysctl.conf" id=".D0.9A.D0.B0.D0.BA_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D1.8C_.D0.B0.D0.B2.D1.82.D0.BE.D0.B4.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2_sysctl.conf"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=32" title="Править секцию: Как использовать автодополнение в sysctl.conf">править</a>]</span> <span class="mw-headline"> Как использовать автодополнение в sysctl.conf </span></h3>
<p>В конфигурационном каталоге интерфейса может находиться файл sysctl.conf, в котором можно перечислить переменные sysctl (8). Но переменные могут быть как общесистемными, так и относящимися к интерфейсу — описание переменных можно почитать в <a href="http://gazette.linux.ru.net/rus/articles/index-ipsysctl-tutorial.html" class="external free" title="http://gazette.linux.ru.net/rus/articles/index-ipsysctl-tutorial.html" rel="nofollow">http://gazette.linux.ru.net/rus/articles/index-ipsysctl-tutorial.html</a>. Естественно, писать в sysctl.conf что-то вроде <tt>net.ipv4.conf.eth0.log_martians = 1</tt> неудобно. К тому же при переименовании интерфейса вы можете забыть отредактировать файл sysctl.conf.
</p><p>Решается это следующим способом: просто запишите в файл имя переменной и значение, а <a href="http://etcnet.org/" class="external text" title="http://etcnet.org/" rel="nofollow">/etc/net</a> сама решит, как к этой переменной добраться, и вызовет sysctl с полным именем. Например:
</p>
<pre>log_martians=1
rp_filter=1</pre>
<div id="profiles"></div>
<a name=".D0.9F.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D0.B8_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8" id=".D0.9F.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D0.B8_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8"></a><h3><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=33" title="Править секцию: Профили конфигурации">править</a>]</span> <span class="mw-headline"> Профили конфигурации </span></h3>
<a name=".D0.9E.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D0.B5.D0.B9" id=".D0.9E.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D0.B5.D0.B9"></a><h4><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=34" title="Править секцию: Определение профилей">править</a>]</span> <span class="mw-headline"> Определение профилей </span></h4>
<p>Профиль — именованный вариант конфигурации, в той или иной степени изменяющий базовую конфигурацию системы. Профили могут быть применены, например, для конфигурации ноутбука в разных сетевых окружениях, или при подготовке новой или тестовой конфигурации с возможностью быстрого возврата к старой. Практически профили реализуются следующим образом: для какого-либо из файлов, составляющих общесистемную конфигурацию или конфигурацию интерфейса, создаётся альтернативный вариант, который отличается добавлением в конце названия файла знака # и имени профиля.
</p><p>Например, единственное отличие между профилями заключается в том, какой модуль ядра будет загружен для интерфейса eth0. В этом случае файл <tt>/etc/net/ifaces/eth0/options</tt> необходимо скопировать в <tt>/etc/net/ifaces/eth0/options#profile1</tt> и изменить значение переменной MODULE в одном из них. Далее при использовании конфигурации по умолчанию будет использован файл options, а при использовании профиля profile1 — файл options#profile1. Если при этом для назначения интерфейсу имени используется файл <tt>/etc/net/iftab</tt>, то скорее всего необходимо будет создать соответствующий файл <tt>/etc/net/iftab#profile1</tt>, так как другой модуль ядра указывает на другой физический интерфейс и исходный файл iftab работать не будет.
</p><p>Профили могут использоваться также и для отключения каких-то параметров конфигурации. Например, если используется файл ipv4route для установки маршрутов для интерфейса, то можно создать файл нулевого размера ipv4route#profile2, чтобы при использовании профиля profile2 никаких маршрутов не конфигурировалось.
</p>
<a name=".D0.92.D1.8B.D0.B1.D0.BE.D1.80_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D1.8F_.D0.BF.D1.80.D0.B8_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B5" id=".D0.92.D1.8B.D0.B1.D0.BE.D1.80_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D1.8F_.D0.BF.D1.80.D0.B8_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B5"></a><h4><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=35" title="Править секцию: Выбор профиля при загрузке">править</a>]</span> <span class="mw-headline"> Выбор профиля при загрузке </span></h4>
<p>Если при загрузке системы ядру был передан параметр netprofile, то его значение будет использовано как имя профиля по умолчанию. Это может быть использовано для создания собственных пунктов меню загрузчиков LILO и GRUB с заранее определённым профилем сетевой конфигурации. Заданный таким образом профиль может быть далее переопределён другими методами. Следует понимать разницу между различными конфигурациями и различными результатами применения одной конфигурации. Например, если в двух разных сетях используется DHCP, то смысла в разных профилях конфигурации нет.
</p><p>Для загрузчика LILO секции <tt>/etc/lilo.conf</tt> могут выглядеть следующим образом:
</p>
<pre>image=/boot/vmlinuz-up
  label=linux-up home
  append=&quot; netprofile=home&quot;
  [...]
image=/boot/vmlinuz-up
  label=linux-up office
  append=&quot; netprofile=office&quot;
  [...]</pre>
<p>Для приведённого примера необходимо будет создать варианты для файлов, отличающихся в профилях home и office, и можно будет выбирать при загрузке, какой из профилей необходимо использовать. Использование этого метода удобно, если смена сетевого окружения происходит синхронно с загрузкой системы.
</p>
<a name=".D0.92.D1.8B.D0.B1.D0.BE.D1.80_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D1.8F_.D0.BF.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E" id=".D0.92.D1.8B.D0.B1.D0.BE.D1.80_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D1.8F_.D0.BF.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E"></a><h4><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=36" title="Править секцию: Выбор профиля по умолчанию">править</a>]</span> <span class="mw-headline"> Выбор профиля по умолчанию </span></h4>
<p>Если вы хотите, чтобы какой-то профиль конфигурации использовался по умолчанию, запишите его название в файл <tt>/etc/net/profile</tt>. Этот метод имеет приоритет над параметром ядра netprofile. Использование такого способа выбора профиля целесообразно, когда переключение между конфигурациями происходит реже, чем перезагрузка системы.
</p>
<a name=".D0.A1.D0.BC.D0.B5.D0.BD.D0.B0_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D1.8F_.D0.B2.D0.BE_.D0.B2.D1.80.D0.B5.D0.BC.D1.8F_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D1.8B" id=".D0.A1.D0.BC.D0.B5.D0.BD.D0.B0_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D1.8F_.D0.B2.D0.BE_.D0.B2.D1.80.D0.B5.D0.BC.D1.8F_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D1.8B"></a><h4><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=37" title="Править секцию: Смена профиля во время работы">править</a>]</span> <span class="mw-headline"> Смена профиля во время работы </span></h4>
<p>Если вы хотите переконфигурировать сеть без перезагрузки или редактирования файла <tt>/etc/net/profile</tt>, то используйте параметры сервиса network, описанные в разделе ##FTN restartreload##. Этот метод имеет приоритет над профилем по умолчанию и профилем, выбранным при загрузке. Целесообразно его использовать, если смена сетевого окружения происходит чаще, чем перезагрузка системы.
</p>
<a name=".D0.9E.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D1.8F_.D0.B2.D0.BE_.D0.B2.D1.80.D0.B5.D0.BC.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0" id=".D0.9E.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D1.8F_.D0.B2.D0.BE_.D0.B2.D1.80.D0.B5.D0.BC.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0"></a><h4><span class="editsection">[<a href="/index.php?title=Etcnet&amp;action=edit&amp;section=38" title="Править секцию: Определение профиля во время конфигурации интерфейса">править</a>]</span> <span class="mw-headline"> Определение профиля во время конфигурации интерфейса </span></h4>
<p>Если в каталоге конфигурации интерфейса существует исполняемый файл ненулевого размера с именем selectprofile, то этот файл будет выполнен и первое слово первой строки его стандартного вывода использовано как имя профиля, которое должно быть использовано для конфигурации данного интерфейса. Этот метод имеет приоритет над всеми остальными методами. Исходной задачей, требующей такого решения, являлось конфигурирование беспроводного интерфейса в зависимости от доступных точек доступа.
</p><p>Следует учитывать, что число вызовов файла selectprofile может меняться в зависимости от контекста и время его выполнения может быть различным, поэтому при написании такого файла следует учитывать, что первым параметром будет являться имя текущего сценария. В настоящее время это могут быть ifup*, ifdown*, setup* и shutdown*. Для приведённого выше примера имеет смысл реагировать только на вызовы из ifup или ifup-common.
</p><p>## FTN ftnd1##
</p>
<table>
<tr>
<td>
<table class="standard">

<tr>
<th>маска<br />в битах</th><th>маска<br />точечно-<br />десятичная
</th></tr>
<tr>
<td>/32</td><td>255.255.255.255
</td></tr>
<tr>
<td>/31</td><td>255.255.255.254
</td></tr>
<tr>
<td>/30</td><td>255.255.255.252
</td></tr>
<tr>
<td>/29</td><td>255.255.255.248
</td></tr>
<tr>
<td>/28</td><td>255.255.255.240
</td></tr>
<tr>
<td>/27</td><td>255.255.255.224
</td></tr>
<tr>
<td>/26</td><td>255.255.255.192
</td></tr>
<tr>
<td>/25</td><td>255.255.255.128
</td></tr>
<tr>
<td>/24</td><td>255.255.255.0
</td></tr>
<tr>
<td>/23</td><td>255.255.254.0
</td></tr>
<tr>
<td>/22</td><td>255.255.252.0
</td></tr>
<tr>
<td>/21</td><td>255.255.248.0
</td></tr>
<tr>
<td>/20</td><td>255.255.240.0
</td></tr>
<tr>
<td>/19</td><td>255.255.224.0
</td></tr>
<tr>
<td>/18</td><td>255.255.192.0
</td></tr>
<tr>
<td>/17</td><td>255.255.128.0
</td></tr></table>
</td><td>
</td><td> </td><td>
<table class="standard">

<tr>
<th>маска<br />в битах</th><th>маска<br />точечно-<br />десятичная
</th></tr>
<tr>
<td>/16</td><td>255.255.0.0
</td></tr>
<tr>
<td>/15</td><td>255.254.0.0
</td></tr>
<tr>
<td>/14</td><td>255.252.0.0
</td></tr>
<tr>
<td>/13</td><td>255.248.0.0
</td></tr>
<tr>
<td>/12</td><td>255.240.0.0
</td></tr>
<tr>
<td>/11</td><td>255.224.0.0
</td></tr>
<tr>
<td>/10</td><td>255.192.0.0
</td></tr>
<tr>
<td>/9</td><td>255.128.0.0
</td></tr>
<tr>
<td>/8</td><td>255.0.0.0
</td></tr>
<tr>
<td>/7</td><td>254.0.0.0
</td></tr>
<tr>
<td>/6</td><td>252.0.0.0
</td></tr>
<tr>
<td>/5</td><td>248.0.0.0
</td></tr>
<tr>
<td>/4</td><td>240.0.0.0
</td></tr>
<tr>
<td>/3</td><td>224.0.0.0
</td></tr>
<tr>
<td>/2</td><td>192.0.0.0
</td></tr>
<tr>
<td>/1</td><td>128.0.0.0
</td></tr></table>
</td></tr></table>
<p>## FTN ftnd2##
</p><p>Выдержка из файла ip-cref.ps, который входит в документацию пакета iproute2:
</p>
<pre>* broadcast ADDRESS
<br />the broadcast address on the interface.
It is possible to use the special symbols '+' and '-' instead of the broadcast address. In this case, 
the broadcast address is derived by setting/resetting the host bits of the interface prefix.
NB. Unlike ifconfig, the ip utility does not set any broadcast address unless explicitly requested.
</pre>
<p><br />
</p>
<div class="NavFrame noprint" style="clear:both; margin-top:0em;">
<div class="NavHead" style="background: #ccf;font-weight:normal"><span style="font-weight:bold">etcnet</span>
</div>
<div class="NavContent" style="font-size:95%;">
<p><span><strong class="selflink">Etcnet</strong></span>&nbsp;&bull;&#32;<span><a href="/Etcnet_Firewall" title="Etcnet Firewall">Etcnet Firewall</a></span>&nbsp;&bull;&#32;<span><a href="/Etcnet_QoS" title="Etcnet QoS">Etcnet QoS</a></span>
</p>
</div>
<div class="NavEnd">&nbsp;</div>
</div>

<!-- 
NewPP limit report
Preprocessor node count: 338/1000000
Post-expand include size: 1251/2097152 bytes
Template argument size: 242/2097152 bytes
Expensive parser function count: 0/100
-->
<div class="printfooter">
&nbsp;</div>
			<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:Categories" title="Служебная:Categories">Категория</a>:&#32;<span dir='ltr'><a href="/%D0%9A%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D1%8F:Etcnet" title="Категория:Etcnet">Etcnet</a></span></div></div>			<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Просмотры</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="/Etcnet" title="Содержание статьи [c]" accesskey="c">Статья</a></li>
				 <li id="ca-talk" class="new"><a href="/index.php?title=%D0%9E%D0%B1%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5:Etcnet&amp;action=edit&amp;redlink=1" title="Обсуждение содержания страницы [t]" accesskey="t">Обсуждение</a></li>
				 <li id="ca-edit"><a href="/index.php?title=Etcnet&amp;action=edit" title="Эту страницу можно изменять. Используйте, пожалуйста, предварительный просмотр перед сохранением [e]" accesskey="e">Править</a></li>
				 <li id="ca-history"><a href="/index.php?title=Etcnet&amp;action=history" title="Журнал изменений страницы [h]" accesskey="h">История</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Личные инструменты</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/index.php?title=%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:UserLogin&amp;returnto=Etcnet" title="Здесь можно зарегистрироваться в системе, но это необязательно. [o]" accesskey="o">Войти / зарегистрироваться</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/images/3/30/Alt_linux_team_small.png);" href="/%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F_%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0" title="Перейти на заглавную страницу [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Навигация</h5>
		<div class='pBody'>
			<ul>
				<li id="n-.D0.93.D0.BB.D0.B0.D0.B2.D0.BD.D0.B0.D1.8F-.D1.81.D1.82.D1.80.D0.B0.D0.BD.D0.B8.D1.86.D0.B0"><a href="/%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F_%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0">Главная страница</a></li>
				<li id="n-.D0.92.D1.81.D0.B5-.D1.81.D1.82.D1.80.D0.B0.D0.BD.D0.B8.D1.86.D1.8B"><a href="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:AllPages">Все страницы</a></li>
				<li id="n-.D0.9A.D0.B0.D1.82.D0.B5.D0.B3.D0.BE.D1.80.D0.B8.D0.B8"><a href="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:Categories">Категории</a></li>
				<li id="n-recentchanges"><a href="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:RecentChanges" title="Список последних изменений [r]" accesskey="r">Свежие правки</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-.D0.A0.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D1.8B_wiki'>
		<h5>Разделы wiki</h5>
		<div class='pBody'>
			<ul>
				<li id="n-.D0.9A.D0.BD.D0.B8.D0.B3.D0.B8"><a href="/Books:Main_page">Книги</a></li>
				<li id="n-.D0.A0.D1.83.D0.BA.D0.BE.D0.B2.D0.BE.D0.B4.D1.81.D1.82.D0.B2.D0.B0"><a href="/%D0%9A%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D1%8F:%D0%A0%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%B0">Руководства</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-.D0.9E_wiki'>
		<h5>О wiki</h5>
		<div class='pBody'>
			<ul>
				<li id="n-.D0.9F.D1.80.D0.B0.D0.B2.D0.B8.D0.BB.D0.B0"><a href="/ALT_Linux_Wiki:%D0%9E%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5">Правила</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-.D1.80.D0.B5.D0.B4.D0.B0.D0.BA.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5'>
		<h5>редактирование</h5>
		<div class='pBody'>
			<ul>
				<li id="n-.D0.A1.D0.BF.D0.B8.D1.81.D0.BE.D0.BA-.D0.BA.D0.B0.D1.80.D1.82.D0.B8.D0.BD.D0.BE.D0.BA"><a href="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:ListFiles">Список картинок</a></li>
				<li id="n-.D0.A1.D0.BF.D0.B8.D1.81.D0.BE.D0.BA-.D1.88.D0.B0.D0.B1.D0.BB.D0.BE.D0.BD.D0.BE.D0.B2"><a href="/%D0%9A%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D1%8F:%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D1%8B">Список шаблонов</a></li>
				<li id="n-.D0.9F.D0.B5.D1.81.D0.BE.D1.87.D0.BD.D0.B8.D1.86.D0.B0"><a href="/ALT_Linux_Wiki:%D0%9F%D0%B5%D1%81%D0%BE%D1%87%D0%BD%D0%B8%D1%86%D0%B0">Песочница</a></li>
				<li id="n-.D0.A0.D0.B0.D0.B1.D0.BE.D1.82.D0.B0-.D0.BD.D0.B0.D0.B4-wiki"><a href="/ALT_Linux_Wiki:Main_Page">Работа над wiki</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C'>
		<h5>помощь</h5>
		<div class='pBody'>
			<ul>
				<li id="n-help"><a href="/ALT_Linux_Wiki:%D0%A1%D0%BF%D1%80%D0%B0%D0%B2%D0%BA%D0%B0" title="Справочник по проекту «ALT Linux Wiki»">Справка</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Поиск</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" title="Искать это слово [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Перейти" title="Перейти к странице, имеющей в точности такое название" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Найти" title="Найти страницы, содержащие указанный текст" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Инструменты</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:WhatLinksHere/Etcnet" title="Список всех страниц, которые ссылаются на эту страницу [j]" accesskey="j">Ссылки сюда</a></li>
				<li id="t-recentchangeslinked"><a href="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:RecentChangesLinked/Etcnet" title="Последние изменения в страницах, на которые ссылается эта страница [k]" accesskey="k">Связанные правки</a></li>
<li id="t-specialpages"><a href="/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:SpecialPages" title="Список служебных страниц [q]" accesskey="q">Спецстраницы</a></li>
				<li id="t-print"><a href="/index.php?title=Etcnet&amp;printable=yes" title="Версия для печати этой страницы [p]" accesskey="p">Версия для печати</a></li>				<li id="t-permalink"><a href="/index.php?title=Etcnet&amp;oldid=10040" title="Постоянная ссылка на эту версию страницы">Постоянная ссылка</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
			<ul id="f-list">
					<li id="lastmod"> &nbsp;</li>
					<li id="copyright">Содержимое доступно в соответствии с <a href="/ALT_Linux_Wiki:Copyright" title="ALT Linux Wiki:Copyright">CC-BY-SA-3.0</a>.</li>
					<li id="privacy"><a href="/ALT_Linux_Wiki:%D0%9F%D0%BE%D0%BB%D0%B8%D1%82%D0%B8%D0%BA%D0%B0_%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B4%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8" title="ALT Linux Wiki:Политика конфиденциальности">Политика конфиденциальности</a></li>
					<li id="about"><a href="/ALT_Linux_Wiki:%D0%9E%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5" title="ALT Linux Wiki:Описание">Описание ALT Linux Wiki</a></li>
					<li id="disclaimer"><a href="/ALT_Linux_Wiki:%D0%9E%D1%82%D0%BA%D0%B0%D0%B7_%D0%BE%D1%82_%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8" title="ALT Linux Wiki:Отказ от ответственности">Отказ от ответственности</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 1.072 secs. --></body></html>
